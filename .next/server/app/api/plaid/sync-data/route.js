"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/plaid/sync-data/route";
exports.ids = ["app/api/plaid/sync-data/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_harjaapdhillon_Desktop_work_keepmore_web_app_api_plaid_sync_data_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/plaid/sync-data/route.ts */ \"(rsc)/./app/api/plaid/sync-data/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/plaid/sync-data/route\",\n        pathname: \"/api/plaid/sync-data\",\n        filename: \"route\",\n        bundlePath: \"app/api/plaid/sync-data/route\"\n    },\n    resolvedPagePath: \"/Users/harjaapdhillon/Desktop/work/keepmore/web/app/api/plaid/sync-data/route.ts\",\n    nextConfigOutput,\n    userland: _Users_harjaapdhillon_Desktop_work_keepmore_web_app_api_plaid_sync_data_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/plaid/sync-data/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjNfQGJhYmVsK2NvcmVANy4yOC42X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGcGxhaWQlMkZzeW5jLWRhdGElMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBsYWlkJTJGc3luYy1kYXRhJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcGxhaWQlMkZzeW5jLWRhdGElMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZoYXJqYWFwZGhpbGxvbiUyRkRlc2t0b3AlMkZ3b3JrJTJGa2VlcG1vcmUlMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGaGFyamFhcGRoaWxsb24lMkZEZXNrdG9wJTJGd29yayUyRmtlZXBtb3JlJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnQztBQUM3RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2tlZXBtb3JlLXdlYi8/MmZlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvaGFyamFhcGRoaWxsb24vRGVza3RvcC93b3JrL2tlZXBtb3JlL3dlYi9hcHAvYXBpL3BsYWlkL3N5bmMtZGF0YS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGxhaWQvc3luYy1kYXRhL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGxhaWQvc3luYy1kYXRhXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wbGFpZC9zeW5jLWRhdGEvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvaGFyamFhcGRoaWxsb24vRGVza3RvcC93b3JrL2tlZXBtb3JlL3dlYi9hcHAvYXBpL3BsYWlkL3N5bmMtZGF0YS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcGxhaWQvc3luYy1kYXRhL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/plaid/sync-data/route.ts":
/*!******************************************!*\
  !*** ./app/api/plaid/sync-data/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/.pnpm/@supabase+supabase-js@2.91.0/node_modules/@supabase/supabase-js/dist/index.mjs\");\n/* harmony import */ var _lib_plaid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/plaid */ \"(rsc)/./lib/plaid.ts\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/.pnpm/axios@1.13.5/node_modules/axios/lib/axios.js\");\n// @ts-nocheck\n\n\n\n\n// Initialize Supabase client\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(\"https://iimlwwmxbaeinfcpqsxp.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlpbWx3d214YmFlaW5mY3Bxc3hwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2ODg1MzIyMSwiZXhwIjoyMDg0NDI5MjIxfQ.XpPo_lsDlcVJ3hr1Nfhcu62VTH9W9xPSE_nO_hFTV7M\");\n// ============================================\n// LOGGING UTILITIES\n// ============================================\nfunction logSection(title) {\n    console.log(\"\\n\" + \"=\".repeat(80));\n    console.log(`  ${title}`);\n    console.log(\"=\".repeat(80));\n}\n// ============================================\n// MAIN API HANDLER\n// ============================================\nasync function POST(request) {\n    const startTime = Date.now();\n    const { userId } = request.body ? await request.json() : {};\n    logSection(\"\\uD83D\\uDE80 PLAID SYNC STARTED\");\n    console.log(`Start Time: ${new Date().toISOString()}`);\n    try {\n        // Fetch all Plaid items\n        const { data: plaidItems, error: fetchError } = await supabase.from(\"plaid_items\").select(\"*\").match({\n            user_id: userId\n        });\n        if (fetchError) {\n            console.error(\"‚ùå Error fetching plaid_items:\", fetchError);\n            throw fetchError;\n        }\n        console.log(`\\nüìä Found ${plaidItems?.length || 0} Plaid items to sync`);\n        if (!plaidItems || plaidItems.length === 0) {\n            console.log(\"‚ö†Ô∏è  No Plaid items found to sync\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"No Plaid items to sync\",\n                totalItems: 0,\n                itemsSucceeded: 0,\n                itemsFailed: 0,\n                duration: Date.now() - startTime\n            });\n        }\n        // Sync all items\n        const itemResults = [];\n        for (const item of plaidItems){\n            logSection(`üîÑ Syncing Item: ${item.id}`);\n            console.log(`User ID: ${item.user_id}`);\n            console.log(`Institution: ${item.institution_name || \"Unknown\"}`);\n            console.log(`Item ID: ${item.id}`);\n            try {\n                const [accounts, transactions, recurringTransactions] = await Promise.all([\n                    syncPlaidAccounts(item),\n                    syncPlaidTransactions(item),\n                    syncPlaidRecurringTransactions(item)\n                ]);\n                const results = {\n                    accounts,\n                    transactions,\n                    recurringTransactions\n                };\n                // Update last_synced_at\n                await supabase.from(\"plaid_items\").update({\n                    last_synced_at: new Date().toISOString()\n                }).eq(\"id\", item.id);\n                console.log(`\\n‚úÖ Successfully synced item ${item.id}`);\n                console.log(`   Accounts: ${results.accounts.count || 0}`);\n                console.log(`   Transactions: ${results.transactions.count || 0}`);\n                console.log(`   Recurring Transactions: ${results.recurringTransactions.count || 0}`);\n                itemResults.push({\n                    plaidItemId: item.id,\n                    userId: item.user_id,\n                    institutionName: item.institution_name,\n                    success: true,\n                    results\n                });\n            } catch (error) {\n                console.error(`\\n‚ùå Failed to sync item ${item.id}:`, error.message);\n                itemResults.push({\n                    plaidItemId: item.id,\n                    userId: item.user_id,\n                    institutionName: item.institution_name,\n                    success: false,\n                    error: error.message\n                });\n            }\n        }\n        const successCount = itemResults.filter((r)=>r.success).length;\n        const failureCount = itemResults.filter((r)=>!r.success).length;\n        const duration = Date.now() - startTime;\n        logSection(\"‚ú® SYNC COMPLETE\");\n        console.log(`Duration: ${duration}ms (${(duration / 1000).toFixed(2)}s)`);\n        console.log(`‚úÖ Succeeded: ${successCount}`);\n        console.log(`‚ùå Failed: ${failureCount}`);\n        console.log(`End Time: ${new Date().toISOString()}`);\n        const hitInsights = ()=>axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"https://keepmore-api-production.up.railway.app/api/insights/generate\", {\n                userId: userId\n            });\n        const hitEmbeddings = ()=>axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"https://keepmore-api-production.up.railway.app/api/sync-financial-summary/calculate\", {\n                userId: userId\n            });\n        const hitFinancialSummary = ()=>axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(\"https://keepmore-api-production.up.railway.app/api/embeddings/batch\", {\n                userId: userId\n            });\n        const THREEAPIS = [\n            hitInsights,\n            hitEmbeddings,\n            hitFinancialSummary\n        ];\n        Promise.all(THREEAPIS.map((fn)=>fn().catch((err)=>console.error(\"Error hitting post-sync API:\", err.message))));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Plaid sync completed\",\n            totalItems: plaidItems.length,\n            itemsSucceeded: successCount,\n            itemsFailed: failureCount,\n            duration,\n            itemResults\n        });\n    } catch (error) {\n        console.error(\"\\n‚ùå FATAL ERROR:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to sync data\",\n            details: error.message,\n            duration: Date.now() - startTime\n        }, {\n            status: 500\n        });\n    }\n}\n// ============================================\n// SYNC FUNCTIONS\n// ============================================\n/**\n * Sync Plaid accounts to plaid_accounts table\n */ async function syncPlaidAccounts(item) {\n    console.log(\"\\n\\uD83D\\uDCB0 SYNCING ACCOUNTS\");\n    try {\n        // Fetch accounts from Plaid\n        console.log(\"\\uD83D\\uDCE1 Calling Plaid accountsGet API...\");\n        const response = await _lib_plaid__WEBPACK_IMPORTED_MODULE_1__.plaidClient.accountsGet({\n            access_token: item.access_token\n        });\n        console.log(\"‚úÖ Plaid API response received\");\n        const accounts = response.data.accounts;\n        console.log(`üìä Received ${accounts.length} accounts`);\n        // Check existing accounts\n        const plaidAccountIds = accounts.map((acc)=>acc.account_id);\n        const { data: existingAccounts } = await supabase.from(\"plaid_accounts\").select(\"account_id\").in(\"account_id\", plaidAccountIds).eq(\"plaid_item_id\", item.id);\n        const existingAccountIds = new Set(existingAccounts?.map((acc)=>acc.account_id) || []);\n        // Prepare data for upsert\n        const accountsToUpsert = accounts.map((account)=>({\n                plaid_item_id: item.id,\n                user_id: item.user_id,\n                account_id: account.account_id,\n                balances: account.balances,\n                holder_category: account.holder_category || null,\n                mask: account.mask || null,\n                name: account.name,\n                official_name: account.official_name || null,\n                persistent_account_id: account.persistent_account_id || null,\n                subtype: account.subtype,\n                type: account.type,\n                updated_at: new Date().toISOString()\n            }));\n        // Perform upsert\n        const { error: upsertError } = await supabase.from(\"plaid_accounts\").upsert(accountsToUpsert, {\n            onConflict: \"account_id\",\n            ignoreDuplicates: false\n        });\n        if (upsertError) {\n            console.error(\"‚ùå Upsert error:\", upsertError);\n            throw upsertError;\n        }\n        const result = {\n            success: true,\n            count: accounts.length,\n            inserted: accounts.length - existingAccountIds.size,\n            updated: existingAccountIds.size\n        };\n        console.log(\"‚úÖ Account sync complete:\", result);\n        return result;\n    } catch (error) {\n        console.error(\"\\n‚ùå Error syncing accounts:\", error.message);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n/**\n * Sync Plaid transactions to plaid_transactions table\n */ async function syncPlaidTransactions(item) {\n    console.log(\"\\n\\uD83D\\uDCB3 SYNCING TRANSACTIONS\");\n    try {\n        // Calculate date range (last 12 months)\n        const LOOKBACK_DAYS = 365;\n        const now = new Date();\n        const startDate = new Date(now.setDate(now.getDate() - LOOKBACK_DAYS)).toISOString().split(\"T\")[0];\n        const endDate = new Date().toISOString().split(\"T\")[0];\n        console.log(`üìÖ Date Range: ${startDate} to ${endDate}`);\n        // Fetch transactions from Plaid\n        let allTransactions = [];\n        let hasMore = true;\n        let offset = 0;\n        while(hasMore){\n            console.log(`üì° Fetching transactions (offset: ${offset})...`);\n            const response = await _lib_plaid__WEBPACK_IMPORTED_MODULE_1__.plaidClient.transactionsGet({\n                access_token: item.access_token,\n                start_date: startDate,\n                end_date: endDate,\n                options: {\n                    count: 100,\n                    offset: offset\n                }\n            });\n            const transactions = response.data.transactions;\n            allTransactions = [\n                ...allTransactions,\n                ...transactions\n            ];\n            hasMore = response.data.total_transactions > allTransactions.length;\n            offset += transactions.length;\n        }\n        console.log(`üìä Received ${allTransactions.length} transactions`);\n        // Check existing transactions\n        const plaidTransactionIds = allTransactions.map((txn)=>txn.transaction_id);\n        const { data: existingTransactions } = await supabase.from(\"plaid_transactions\").select(\"transaction_id\").in(\"transaction_id\", plaidTransactionIds).eq(\"plaid_item_id\", item.id);\n        const existingTransactionIds = new Set(existingTransactions?.map((txn)=>txn.transaction_id) || []);\n        // Prepare data for upsert\n        const transactionsToUpsert = allTransactions.map((transaction)=>({\n                plaid_item_id: item.id,\n                user_id: item.user_id,\n                account_id: transaction.account_id,\n                transaction_id: transaction.transaction_id,\n                account_owner: transaction.account_owner || null,\n                amount: transaction.amount,\n                authorized_date: transaction.authorized_date || null,\n                authorized_datetime: transaction.authorized_datetime || null,\n                category: transaction.category || null,\n                category_id: transaction.category_id || null,\n                check_number: transaction.check_number || null,\n                counterparties: transaction.counterparties || null,\n                date: transaction.date,\n                datetime: transaction.datetime || null,\n                iso_currency_code: transaction.iso_currency_code || null,\n                location: transaction.location || null,\n                logo_url: transaction.logo_url || null,\n                merchant_entity_id: transaction.merchant_entity_id || null,\n                merchant_name: transaction.merchant_name || null,\n                name: transaction.name,\n                payment_channel: transaction.payment_channel || null,\n                payment_meta: transaction.payment_meta || null,\n                pending: transaction.pending || false,\n                pending_transaction_id: transaction.pending_transaction_id || null,\n                personal_finance_category: transaction.personal_finance_category || null,\n                personal_finance_category_icon_url: transaction.personal_finance_category_icon_url || null,\n                transaction_code: transaction.transaction_code || null,\n                transaction_type: transaction.transaction_type || null,\n                unofficial_currency_code: transaction.unofficial_currency_code || null,\n                website: transaction.website || null,\n                updated_at: new Date().toISOString()\n            }));\n        // Perform upsert in batches (Supabase has limits)\n        const BATCH_SIZE = 100;\n        let inserted = 0;\n        let updated = 0;\n        for(let i = 0; i < transactionsToUpsert.length; i += BATCH_SIZE){\n            const batch = transactionsToUpsert.slice(i, i + BATCH_SIZE);\n            const { error: upsertError } = await supabase.from(\"plaid_transactions\").upsert(batch, {\n                onConflict: \"transaction_id\",\n                ignoreDuplicates: false\n            });\n            if (upsertError) {\n                console.error(\"‚ùå Upsert error in batch:\", upsertError);\n                throw upsertError;\n            }\n            // Count inserts vs updates\n            batch.forEach((txn)=>{\n                if (existingTransactionIds.has(txn.transaction_id)) {\n                    updated++;\n                } else {\n                    inserted++;\n                }\n            });\n            console.log(`  Processed batch ${Math.floor(i / BATCH_SIZE) + 1}/${Math.ceil(transactionsToUpsert.length / BATCH_SIZE)}`);\n        }\n        const result = {\n            success: true,\n            count: allTransactions.length,\n            inserted,\n            updated\n        };\n        console.log(\"‚úÖ Transaction sync complete:\", result);\n        return result;\n    } catch (error) {\n        console.error(\"\\n‚ùå Error syncing transactions:\", error.message);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n/**\n * Sync Plaid recurring transactions to plaid_recurring_transactions table\n */ async function syncPlaidRecurringTransactions(item) {\n    console.log(\"\\n\\uD83D\\uDD01 SYNCING RECURRING TRANSACTIONS\");\n    try {\n        // Fetch recurring transactions from Plaid\n        console.log(\"\\uD83D\\uDCE1 Calling Plaid transactionsRecurringGet API...\");\n        const response = await _lib_plaid__WEBPACK_IMPORTED_MODULE_1__.plaidClient.transactionsRecurringGet({\n            access_token: item.access_token\n        });\n        console.log(\"‚úÖ Plaid API response received\");\n        const allStreams = [\n            ...response.data.outflow_streams || []\n        ];\n        console.log(`üìä Received ${allStreams.length} recurring transaction streams`);\n        // Check existing streams\n        const streamIds = allStreams.map((stream)=>stream.stream_id);\n        const { data: existingStreams } = await supabase.from(\"plaid_recurring_transactions\").select(\"stream_id\").in(\"stream_id\", streamIds).eq(\"plaid_item_id\", item.id);\n        const existingStreamIds = new Set(existingStreams?.map((stream)=>stream.stream_id) || []);\n        // Prepare data for upsert\n        const streamsToUpsert = allStreams.map((stream)=>({\n                plaid_item_id: item.id,\n                user_id: item.user_id,\n                account_id: stream.account_id,\n                stream_id: stream.stream_id,\n                average_amount: stream.average_amount || null,\n                category: stream.category || null,\n                category_id: stream.category_id || null,\n                description: stream.description || null,\n                first_date: stream.first_date,\n                frequency: stream.frequency,\n                is_active: stream.is_active || false,\n                is_user_modified: stream.is_user_modified || false,\n                last_amount: stream.last_amount || null,\n                last_date: stream.last_date,\n                last_user_modified_datetime: stream.last_user_modified_datetime || null,\n                merchant_name: stream.merchant_name || null,\n                personal_finance_category: stream.personal_finance_category || null,\n                predicted_next_date: stream.predicted_next_date || null,\n                status: stream.status,\n                transaction_ids: stream.transaction_ids || [],\n                updated_at: new Date().toISOString()\n            }));\n        // Perform upsert\n        const { error: upsertError } = await supabase.from(\"plaid_recurring_transactions\").upsert(streamsToUpsert, {\n            onConflict: \"stream_id\",\n            ignoreDuplicates: false\n        });\n        if (upsertError) {\n            console.error(\"‚ùå Upsert error:\", upsertError);\n            throw upsertError;\n        }\n        const result = {\n            success: true,\n            count: allStreams.length,\n            inserted: allStreams.length - existingStreamIds.size,\n            updated: existingStreamIds.size\n        };\n        console.log(\"‚úÖ Recurring transaction sync complete:\", result);\n        return result;\n    } catch (error) {\n        // Check if recurring transactions are not enabled\n        if (error.response?.data?.error_code === \"PRODUCT_NOT_ENABLED\") {\n            console.log(\"‚ö†Ô∏è  Recurring transactions not enabled for this item\");\n            return {\n                success: true,\n                count: 0,\n                message: \"Recurring transactions not enabled\"\n            };\n        }\n        console.error(\"\\n‚ùå Error syncing recurring transactions:\", error.message);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsTUFBTUksU0FBUztZQUNicEUsU0FBUztZQUNUc0IsT0FBTzBHLFdBQVdqSSxNQUFNO1lBQ3hCc0UsVUFBVTJELFdBQVdqSSxNQUFNLEdBQUd1SSxrQkFBa0JoRSxJQUFJO1lBQ3BEQyxTQUFTK0Qsa0JBQWtCaEUsSUFBSTtRQUNqQztRQUVBM0YsUUFBUUMsR0FBRyxDQUFDLDBDQUEwQ3dGO1FBQ3RELE9BQU9BO0lBRVQsRUFBRSxPQUFPM0UsT0FBWTtRQUNuQixrREFBa0Q7UUFDbEQsSUFBSUEsTUFBTWlELFFBQVEsRUFBRW5ELE1BQU00SixlQUFlLHVCQUF1QjtZQUM5RHhLLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87Z0JBQ0xvQixTQUFTO2dCQUNUc0IsT0FBTztnQkFDUHJCLFNBQVM7WUFDWDtRQUNGO1FBRUF0QixRQUFRYyxLQUFLLENBQUMsNkNBQTZDQSxNQUFNUSxPQUFPO1FBQ3hFLE9BQU87WUFBRUQsU0FBUztZQUFPUCxPQUFPQSxNQUFNUSxPQUFPO1FBQUM7SUFDaEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2tlZXBtb3JlLXdlYi8uL2FwcC9hcGkvcGxhaWQvc3luYy1kYXRhL3JvdXRlLnRzPzdmMzQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLW5vY2hlY2tcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uLCBQbGFpZEFwaSwgUGxhaWRFbnZpcm9ubWVudHMgfSBmcm9tICdwbGFpZCc7XG5pbXBvcnQgeyBwbGFpZENsaWVudCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9wbGFpZCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuLy8gSW5pdGlhbGl6ZSBTdXBhYmFzZSBjbGllbnRcbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICAnaHR0cHM6Ly9paW1sd3dteGJhZWluZmNwcXN4cC5zdXBhYmFzZS5jbycsXG4gICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbWxwYld4M2QyMTRZbUZsYVc1bVkzQnhjM2h3SWl3aWNtOXNaU0k2SW5ObGNuWnBZMlZmY205c1pTSXNJbWxoZENJNk1UYzJPRGcxTXpJeU1Td2laWGh3SWpveU1EZzBOREk1TWpJeGZRLlhwUG9fbHNEbGNWSjNocjFOZmhjdTYyVlRIOVc5eFBTRV9uT19oRlRWN00nXG4pXG5cbmludGVyZmFjZSBTeW5jUmVzdWx0IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgY291bnQ/OiBudW1iZXI7XG4gIGVycm9yPzogc3RyaW5nO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBpbnNlcnRlZD86IG51bWJlcjtcbiAgdXBkYXRlZD86IG51bWJlcjtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5pbnRlcmZhY2UgSXRlbVN5bmNSZXN1bHQge1xuICBwbGFpZEl0ZW1JZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgaW5zdGl0dXRpb25OYW1lOiBzdHJpbmcgfCBudWxsO1xuICBzdWNjZXNzOiBib29sZWFuO1xuICByZXN1bHRzPzoge1xuICAgIGFjY291bnRzOiBTeW5jUmVzdWx0O1xuICAgIHRyYW5zYWN0aW9uczogU3luY1Jlc3VsdDtcbiAgICByZWN1cnJpbmdUcmFuc2FjdGlvbnM6IFN5bmNSZXN1bHQ7XG4gIH07XG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTE9HR0lORyBVVElMSVRJRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGxvZ1NlY3Rpb24odGl0bGU6IHN0cmluZykge1xuICBjb25zb2xlLmxvZygnXFxuJyArICc9Jy5yZXBlYXQoODApKTtcbiAgY29uc29sZS5sb2coYCAgJHt0aXRsZX1gKTtcbiAgY29uc29sZS5sb2coJz0nLnJlcGVhdCg4MCkpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTUFJTiBBUEkgSEFORExFUlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xuICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxdWVzdC5ib2R5ID8gYXdhaXQgcmVxdWVzdC5qc29uKCkgOiB7fTtcblxuICBsb2dTZWN0aW9uKCfwn5qAIFBMQUlEIFNZTkMgU1RBUlRFRCcpO1xuICBjb25zb2xlLmxvZyhgU3RhcnQgVGltZTogJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9YCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCBhbGwgUGxhaWQgaXRlbXNcbiAgICBjb25zdCB7IGRhdGE6IHBsYWlkSXRlbXMsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3BsYWlkX2l0ZW1zJylcbiAgICAgIC5zZWxlY3QoJyonKS5tYXRjaCh7IHVzZXJfaWQ6IHVzZXJJZCB9KTtcblxuICAgIGlmIChmZXRjaEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgcGxhaWRfaXRlbXM6JywgZmV0Y2hFcnJvcik7XG4gICAgICB0aHJvdyBmZXRjaEVycm9yO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBcXG7wn5OKIEZvdW5kICR7cGxhaWRJdGVtcz8ubGVuZ3RoIHx8IDB9IFBsYWlkIGl0ZW1zIHRvIHN5bmNgKTtcblxuICAgIGlmICghcGxhaWRJdGVtcyB8fCBwbGFpZEl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyAgTm8gUGxhaWQgaXRlbXMgZm91bmQgdG8gc3luYycpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ05vIFBsYWlkIGl0ZW1zIHRvIHN5bmMnLFxuICAgICAgICB0b3RhbEl0ZW1zOiAwLFxuICAgICAgICBpdGVtc1N1Y2NlZWRlZDogMCxcbiAgICAgICAgaXRlbXNGYWlsZWQ6IDAsXG4gICAgICAgIGR1cmF0aW9uOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU3luYyBhbGwgaXRlbXNcbiAgICBjb25zdCBpdGVtUmVzdWx0czogSXRlbVN5bmNSZXN1bHRbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHBsYWlkSXRlbXMpIHtcbiAgICAgIGxvZ1NlY3Rpb24oYPCflIQgU3luY2luZyBJdGVtOiAke2l0ZW0uaWR9YCk7XG4gICAgICBjb25zb2xlLmxvZyhgVXNlciBJRDogJHtpdGVtLnVzZXJfaWR9YCk7XG4gICAgICBjb25zb2xlLmxvZyhgSW5zdGl0dXRpb246ICR7aXRlbS5pbnN0aXR1dGlvbl9uYW1lIHx8ICdVbmtub3duJ31gKTtcbiAgICAgIGNvbnNvbGUubG9nKGBJdGVtIElEOiAke2l0ZW0uaWR9YCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFthY2NvdW50cywgdHJhbnNhY3Rpb25zLCByZWN1cnJpbmdUcmFuc2FjdGlvbnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIHN5bmNQbGFpZEFjY291bnRzKGl0ZW0pLFxuICAgICAgICAgIHN5bmNQbGFpZFRyYW5zYWN0aW9ucyhpdGVtKSxcbiAgICAgICAgICBzeW5jUGxhaWRSZWN1cnJpbmdUcmFuc2FjdGlvbnMoaXRlbSksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgICAgICAgYWNjb3VudHMsXG4gICAgICAgICAgdHJhbnNhY3Rpb25zLFxuICAgICAgICAgIHJlY3VycmluZ1RyYW5zYWN0aW9ucyxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBVcGRhdGUgbGFzdF9zeW5jZWRfYXRcbiAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncGxhaWRfaXRlbXMnKVxuICAgICAgICAgIC51cGRhdGUoeyBsYXN0X3N5bmNlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgICAgICAgLmVxKCdpZCcsIGl0ZW0uaWQpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBcXG7inIUgU3VjY2Vzc2Z1bGx5IHN5bmNlZCBpdGVtICR7aXRlbS5pZH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYCAgIEFjY291bnRzOiAke3Jlc3VsdHMuYWNjb3VudHMuY291bnQgfHwgMH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYCAgIFRyYW5zYWN0aW9uczogJHtyZXN1bHRzLnRyYW5zYWN0aW9ucy5jb3VudCB8fCAwfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgICAgUmVjdXJyaW5nIFRyYW5zYWN0aW9uczogJHtyZXN1bHRzLnJlY3VycmluZ1RyYW5zYWN0aW9ucy5jb3VudCB8fCAwfWApO1xuXG4gICAgICAgIGl0ZW1SZXN1bHRzLnB1c2goe1xuICAgICAgICAgIHBsYWlkSXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICAgIHVzZXJJZDogaXRlbS51c2VyX2lkLFxuICAgICAgICAgIGluc3RpdHV0aW9uTmFtZTogaXRlbS5pbnN0aXR1dGlvbl9uYW1lLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgcmVzdWx0cyxcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgXFxu4p2MIEZhaWxlZCB0byBzeW5jIGl0ZW0gJHtpdGVtLmlkfTpgLCBlcnJvci5tZXNzYWdlKTtcblxuICAgICAgICBpdGVtUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBwbGFpZEl0ZW1JZDogaXRlbS5pZCxcbiAgICAgICAgICB1c2VySWQ6IGl0ZW0udXNlcl9pZCxcbiAgICAgICAgICBpbnN0aXR1dGlvbk5hbWU6IGl0ZW0uaW5zdGl0dXRpb25fbmFtZSxcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc3VjY2Vzc0NvdW50ID0gaXRlbVJlc3VsdHMuZmlsdGVyKHIgPT4gci5zdWNjZXNzKS5sZW5ndGg7XG4gICAgY29uc3QgZmFpbHVyZUNvdW50ID0gaXRlbVJlc3VsdHMuZmlsdGVyKHIgPT4gIXIuc3VjY2VzcykubGVuZ3RoO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgIGxvZ1NlY3Rpb24oJ+KcqCBTWU5DIENPTVBMRVRFJyk7XG4gICAgY29uc29sZS5sb2coYER1cmF0aW9uOiAke2R1cmF0aW9ufW1zICgkeyhkdXJhdGlvbiAvIDEwMDApLnRvRml4ZWQoMil9cylgKTtcbiAgICBjb25zb2xlLmxvZyhg4pyFIFN1Y2NlZWRlZDogJHtzdWNjZXNzQ291bnR9YCk7XG4gICAgY29uc29sZS5sb2coYOKdjCBGYWlsZWQ6ICR7ZmFpbHVyZUNvdW50fWApO1xuICAgIGNvbnNvbGUubG9nKGBFbmQgVGltZTogJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9YCk7XG4gICAgY29uc3QgaGl0SW5zaWdodHMgPSAoKSA9PiBheGlvcy5wb3N0KFwiaHR0cHM6Ly9rZWVwbW9yZS1hcGktcHJvZHVjdGlvbi51cC5yYWlsd2F5LmFwcC9hcGkvaW5zaWdodHMvZ2VuZXJhdGVcIiwge1xuICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgfSlcbiAgICBjb25zdCBoaXRFbWJlZGRpbmdzID0gKCkgPT4gYXhpb3MucG9zdChcImh0dHBzOi8va2VlcG1vcmUtYXBpLXByb2R1Y3Rpb24udXAucmFpbHdheS5hcHAvYXBpL3N5bmMtZmluYW5jaWFsLXN1bW1hcnkvY2FsY3VsYXRlXCIsIHtcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgIH0pXG4gICAgY29uc3QgaGl0RmluYW5jaWFsU3VtbWFyeSA9ICgpID0+IGF4aW9zLnBvc3QoXCJodHRwczovL2tlZXBtb3JlLWFwaS1wcm9kdWN0aW9uLnVwLnJhaWx3YXkuYXBwL2FwaS9lbWJlZGRpbmdzL2JhdGNoXCIsIHtcbiAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgIH0pXG4gICAgY29uc3QgVEhSRUVBUElTID0gW2hpdEluc2lnaHRzLCBoaXRFbWJlZGRpbmdzLCBoaXRGaW5hbmNpYWxTdW1tYXJ5XVxuICAgIFByb21pc2UuYWxsKFRIUkVFQVBJUy5tYXAoZm4gPT4gZm4oKS5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcignRXJyb3IgaGl0dGluZyBwb3N0LXN5bmMgQVBJOicsIGVyci5tZXNzYWdlKSkpKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdQbGFpZCBzeW5jIGNvbXBsZXRlZCcsXG4gICAgICB0b3RhbEl0ZW1zOiBwbGFpZEl0ZW1zLmxlbmd0aCxcbiAgICAgIGl0ZW1zU3VjY2VlZGVkOiBzdWNjZXNzQ291bnQsXG4gICAgICBpdGVtc0ZhaWxlZDogZmFpbHVyZUNvdW50LFxuICAgICAgZHVyYXRpb24sXG4gICAgICBpdGVtUmVzdWx0cyxcbiAgICB9KTtcblxuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdcXG7inYwgRkFUQUwgRVJST1I6JywgZXJyb3IpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc3luYyBkYXRhJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU1lOQyBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU3luYyBQbGFpZCBhY2NvdW50cyB0byBwbGFpZF9hY2NvdW50cyB0YWJsZVxuICovXG5hc3luYyBmdW5jdGlvbiBzeW5jUGxhaWRBY2NvdW50cyhpdGVtOiBhbnkpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgY29uc29sZS5sb2coJ1xcbvCfkrAgU1lOQ0lORyBBQ0NPVU5UUycpO1xuXG4gIHRyeSB7XG4gICAgLy8gRmV0Y2ggYWNjb3VudHMgZnJvbSBQbGFpZFxuICAgIGNvbnNvbGUubG9nKCfwn5OhIENhbGxpbmcgUGxhaWQgYWNjb3VudHNHZXQgQVBJLi4uJyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwbGFpZENsaWVudC5hY2NvdW50c0dldCh7XG4gICAgICBhY2Nlc3NfdG9rZW46IGl0ZW0uYWNjZXNzX3Rva2VuLFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ+KchSBQbGFpZCBBUEkgcmVzcG9uc2UgcmVjZWl2ZWQnKTtcbiAgICBjb25zdCBhY2NvdW50cyA9IHJlc3BvbnNlLmRhdGEuYWNjb3VudHM7XG4gICAgY29uc29sZS5sb2coYPCfk4ogUmVjZWl2ZWQgJHthY2NvdW50cy5sZW5ndGh9IGFjY291bnRzYCk7XG5cbiAgICAvLyBDaGVjayBleGlzdGluZyBhY2NvdW50c1xuICAgIGNvbnN0IHBsYWlkQWNjb3VudElkcyA9IGFjY291bnRzLm1hcChhY2MgPT4gYWNjLmFjY291bnRfaWQpO1xuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdBY2NvdW50cyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwbGFpZF9hY2NvdW50cycpXG4gICAgICAuc2VsZWN0KCdhY2NvdW50X2lkJylcbiAgICAgIC5pbignYWNjb3VudF9pZCcsIHBsYWlkQWNjb3VudElkcylcbiAgICAgIC5lcSgncGxhaWRfaXRlbV9pZCcsIGl0ZW0uaWQpO1xuXG4gICAgY29uc3QgZXhpc3RpbmdBY2NvdW50SWRzID0gbmV3IFNldChcbiAgICAgIGV4aXN0aW5nQWNjb3VudHM/Lm1hcChhY2MgPT4gYWNjLmFjY291bnRfaWQpIHx8IFtdXG4gICAgKTtcblxuICAgIC8vIFByZXBhcmUgZGF0YSBmb3IgdXBzZXJ0XG4gICAgY29uc3QgYWNjb3VudHNUb1Vwc2VydCA9IGFjY291bnRzLm1hcChhY2NvdW50ID0+ICh7XG4gICAgICBwbGFpZF9pdGVtX2lkOiBpdGVtLmlkLFxuICAgICAgdXNlcl9pZDogaXRlbS51c2VyX2lkLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudC5hY2NvdW50X2lkLFxuICAgICAgYmFsYW5jZXM6IGFjY291bnQuYmFsYW5jZXMsXG4gICAgICBob2xkZXJfY2F0ZWdvcnk6IGFjY291bnQuaG9sZGVyX2NhdGVnb3J5IHx8IG51bGwsXG4gICAgICBtYXNrOiBhY2NvdW50Lm1hc2sgfHwgbnVsbCxcbiAgICAgIG5hbWU6IGFjY291bnQubmFtZSxcbiAgICAgIG9mZmljaWFsX25hbWU6IGFjY291bnQub2ZmaWNpYWxfbmFtZSB8fCBudWxsLFxuICAgICAgcGVyc2lzdGVudF9hY2NvdW50X2lkOiBhY2NvdW50LnBlcnNpc3RlbnRfYWNjb3VudF9pZCB8fCBudWxsLFxuICAgICAgc3VidHlwZTogYWNjb3VudC5zdWJ0eXBlLFxuICAgICAgdHlwZTogYWNjb3VudC50eXBlLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH0pKTtcblxuICAgIC8vIFBlcmZvcm0gdXBzZXJ0XG4gICAgY29uc3QgeyBlcnJvcjogdXBzZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfYWNjb3VudHMnKVxuICAgICAgLnVwc2VydChhY2NvdW50c1RvVXBzZXJ0LCB7XG4gICAgICAgIG9uQ29uZmxpY3Q6ICdhY2NvdW50X2lkJyxcbiAgICAgICAgaWdub3JlRHVwbGljYXRlczogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGlmICh1cHNlcnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFVwc2VydCBlcnJvcjonLCB1cHNlcnRFcnJvcik7XG4gICAgICB0aHJvdyB1cHNlcnRFcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY291bnQ6IGFjY291bnRzLmxlbmd0aCxcbiAgICAgIGluc2VydGVkOiBhY2NvdW50cy5sZW5ndGggLSBleGlzdGluZ0FjY291bnRJZHMuc2l6ZSxcbiAgICAgIHVwZGF0ZWQ6IGV4aXN0aW5nQWNjb3VudElkcy5zaXplLFxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIEFjY291bnQgc3luYyBjb21wbGV0ZTonLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1xcbuKdjCBFcnJvciBzeW5jaW5nIGFjY291bnRzOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG59XG5cbi8qKlxuICogU3luYyBQbGFpZCB0cmFuc2FjdGlvbnMgdG8gcGxhaWRfdHJhbnNhY3Rpb25zIHRhYmxlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN5bmNQbGFpZFRyYW5zYWN0aW9ucyhpdGVtOiBhbnkpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgY29uc29sZS5sb2coJ1xcbvCfkrMgU1lOQ0lORyBUUkFOU0FDVElPTlMnKTtcblxuICB0cnkge1xuICAgIC8vIENhbGN1bGF0ZSBkYXRlIHJhbmdlIChsYXN0IDEyIG1vbnRocylcbiAgICBjb25zdCBMT09LQkFDS19EQVlTID0gMzY1O1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSAtIExPT0tCQUNLX0RBWVMpKVxuICAgICAgLnRvSVNPU3RyaW5nKClcbiAgICAgIC5zcGxpdCgnVCcpWzBdO1xuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgIGNvbnNvbGUubG9nKGDwn5OFIERhdGUgUmFuZ2U6ICR7c3RhcnREYXRlfSB0byAke2VuZERhdGV9YCk7XG5cbiAgICAvLyBGZXRjaCB0cmFuc2FjdGlvbnMgZnJvbSBQbGFpZFxuICAgIGxldCBhbGxUcmFuc2FjdGlvbnM6IGFueVtdID0gW107XG4gICAgbGV0IGhhc01vcmUgPSB0cnVlO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgd2hpbGUgKGhhc01vcmUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OhIEZldGNoaW5nIHRyYW5zYWN0aW9ucyAob2Zmc2V0OiAke29mZnNldH0pLi4uYCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcGxhaWRDbGllbnQudHJhbnNhY3Rpb25zR2V0KHtcbiAgICAgICAgYWNjZXNzX3Rva2VuOiBpdGVtLmFjY2Vzc190b2tlbixcbiAgICAgICAgc3RhcnRfZGF0ZTogc3RhcnREYXRlLFxuICAgICAgICBlbmRfZGF0ZTogZW5kRGF0ZSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGNvdW50OiAxMDAsXG4gICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gcmVzcG9uc2UuZGF0YS50cmFuc2FjdGlvbnM7XG4gICAgICBhbGxUcmFuc2FjdGlvbnMgPSBbLi4uYWxsVHJhbnNhY3Rpb25zLCAuLi50cmFuc2FjdGlvbnNdO1xuXG4gICAgICBoYXNNb3JlID0gcmVzcG9uc2UuZGF0YS50b3RhbF90cmFuc2FjdGlvbnMgPiBhbGxUcmFuc2FjdGlvbnMubGVuZ3RoO1xuICAgICAgb2Zmc2V0ICs9IHRyYW5zYWN0aW9ucy5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCfk4ogUmVjZWl2ZWQgJHthbGxUcmFuc2FjdGlvbnMubGVuZ3RofSB0cmFuc2FjdGlvbnNgKTtcblxuICAgIC8vIENoZWNrIGV4aXN0aW5nIHRyYW5zYWN0aW9uc1xuICAgIGNvbnN0IHBsYWlkVHJhbnNhY3Rpb25JZHMgPSBhbGxUcmFuc2FjdGlvbnMubWFwKHR4biA9PiB0eG4udHJhbnNhY3Rpb25faWQpO1xuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdUcmFuc2FjdGlvbnMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfdHJhbnNhY3Rpb25zJylcbiAgICAgIC5zZWxlY3QoJ3RyYW5zYWN0aW9uX2lkJylcbiAgICAgIC5pbigndHJhbnNhY3Rpb25faWQnLCBwbGFpZFRyYW5zYWN0aW9uSWRzKVxuICAgICAgLmVxKCdwbGFpZF9pdGVtX2lkJywgaXRlbS5pZCk7XG5cbiAgICBjb25zdCBleGlzdGluZ1RyYW5zYWN0aW9uSWRzID0gbmV3IFNldChcbiAgICAgIGV4aXN0aW5nVHJhbnNhY3Rpb25zPy5tYXAodHhuID0+IHR4bi50cmFuc2FjdGlvbl9pZCkgfHwgW11cbiAgICApO1xuXG4gICAgLy8gUHJlcGFyZSBkYXRhIGZvciB1cHNlcnRcbiAgICBjb25zdCB0cmFuc2FjdGlvbnNUb1Vwc2VydCA9IGFsbFRyYW5zYWN0aW9ucy5tYXAodHJhbnNhY3Rpb24gPT4gKHtcbiAgICAgIHBsYWlkX2l0ZW1faWQ6IGl0ZW0uaWQsXG4gICAgICB1c2VyX2lkOiBpdGVtLnVzZXJfaWQsXG4gICAgICBhY2NvdW50X2lkOiB0cmFuc2FjdGlvbi5hY2NvdW50X2lkLFxuICAgICAgdHJhbnNhY3Rpb25faWQ6IHRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uX2lkLFxuICAgICAgYWNjb3VudF9vd25lcjogdHJhbnNhY3Rpb24uYWNjb3VudF9vd25lciB8fCBudWxsLFxuICAgICAgYW1vdW50OiB0cmFuc2FjdGlvbi5hbW91bnQsXG4gICAgICBhdXRob3JpemVkX2RhdGU6IHRyYW5zYWN0aW9uLmF1dGhvcml6ZWRfZGF0ZSB8fCBudWxsLFxuICAgICAgYXV0aG9yaXplZF9kYXRldGltZTogdHJhbnNhY3Rpb24uYXV0aG9yaXplZF9kYXRldGltZSB8fCBudWxsLFxuICAgICAgY2F0ZWdvcnk6IHRyYW5zYWN0aW9uLmNhdGVnb3J5IHx8IG51bGwsXG4gICAgICBjYXRlZ29yeV9pZDogdHJhbnNhY3Rpb24uY2F0ZWdvcnlfaWQgfHwgbnVsbCxcbiAgICAgIGNoZWNrX251bWJlcjogdHJhbnNhY3Rpb24uY2hlY2tfbnVtYmVyIHx8IG51bGwsXG4gICAgICBjb3VudGVycGFydGllczogdHJhbnNhY3Rpb24uY291bnRlcnBhcnRpZXMgfHwgbnVsbCxcbiAgICAgIGRhdGU6IHRyYW5zYWN0aW9uLmRhdGUsXG4gICAgICBkYXRldGltZTogdHJhbnNhY3Rpb24uZGF0ZXRpbWUgfHwgbnVsbCxcbiAgICAgIGlzb19jdXJyZW5jeV9jb2RlOiB0cmFuc2FjdGlvbi5pc29fY3VycmVuY3lfY29kZSB8fCBudWxsLFxuICAgICAgbG9jYXRpb246IHRyYW5zYWN0aW9uLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICBsb2dvX3VybDogdHJhbnNhY3Rpb24ubG9nb191cmwgfHwgbnVsbCxcbiAgICAgIG1lcmNoYW50X2VudGl0eV9pZDogdHJhbnNhY3Rpb24ubWVyY2hhbnRfZW50aXR5X2lkIHx8IG51bGwsXG4gICAgICBtZXJjaGFudF9uYW1lOiB0cmFuc2FjdGlvbi5tZXJjaGFudF9uYW1lIHx8IG51bGwsXG4gICAgICBuYW1lOiB0cmFuc2FjdGlvbi5uYW1lLFxuICAgICAgcGF5bWVudF9jaGFubmVsOiB0cmFuc2FjdGlvbi5wYXltZW50X2NoYW5uZWwgfHwgbnVsbCxcbiAgICAgIHBheW1lbnRfbWV0YTogdHJhbnNhY3Rpb24ucGF5bWVudF9tZXRhIHx8IG51bGwsXG4gICAgICBwZW5kaW5nOiB0cmFuc2FjdGlvbi5wZW5kaW5nIHx8IGZhbHNlLFxuICAgICAgcGVuZGluZ190cmFuc2FjdGlvbl9pZDogdHJhbnNhY3Rpb24ucGVuZGluZ190cmFuc2FjdGlvbl9pZCB8fCBudWxsLFxuICAgICAgcGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeTogdHJhbnNhY3Rpb24ucGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgcGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeV9pY29uX3VybDogdHJhbnNhY3Rpb24ucGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeV9pY29uX3VybCB8fCBudWxsLFxuICAgICAgdHJhbnNhY3Rpb25fY29kZTogdHJhbnNhY3Rpb24udHJhbnNhY3Rpb25fY29kZSB8fCBudWxsLFxuICAgICAgdHJhbnNhY3Rpb25fdHlwZTogdHJhbnNhY3Rpb24udHJhbnNhY3Rpb25fdHlwZSB8fCBudWxsLFxuICAgICAgdW5vZmZpY2lhbF9jdXJyZW5jeV9jb2RlOiB0cmFuc2FjdGlvbi51bm9mZmljaWFsX2N1cnJlbmN5X2NvZGUgfHwgbnVsbCxcbiAgICAgIHdlYnNpdGU6IHRyYW5zYWN0aW9uLndlYnNpdGUgfHwgbnVsbCxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9KSk7XG5cbiAgICAvLyBQZXJmb3JtIHVwc2VydCBpbiBiYXRjaGVzIChTdXBhYmFzZSBoYXMgbGltaXRzKVxuICAgIGNvbnN0IEJBVENIX1NJWkUgPSAxMDA7XG4gICAgbGV0IGluc2VydGVkID0gMDtcbiAgICBsZXQgdXBkYXRlZCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zYWN0aW9uc1RvVXBzZXJ0Lmxlbmd0aDsgaSArPSBCQVRDSF9TSVpFKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IHRyYW5zYWN0aW9uc1RvVXBzZXJ0LnNsaWNlKGksIGkgKyBCQVRDSF9TSVpFKTtcblxuICAgICAgY29uc3QgeyBlcnJvcjogdXBzZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwbGFpZF90cmFuc2FjdGlvbnMnKVxuICAgICAgICAudXBzZXJ0KGJhdGNoLCB7XG4gICAgICAgICAgb25Db25mbGljdDogJ3RyYW5zYWN0aW9uX2lkJyxcbiAgICAgICAgICBpZ25vcmVEdXBsaWNhdGVzOiBmYWxzZSxcbiAgICAgICAgfSk7XG5cbiAgICAgIGlmICh1cHNlcnRFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgVXBzZXJ0IGVycm9yIGluIGJhdGNoOicsIHVwc2VydEVycm9yKTtcbiAgICAgICAgdGhyb3cgdXBzZXJ0RXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIENvdW50IGluc2VydHMgdnMgdXBkYXRlc1xuICAgICAgYmF0Y2guZm9yRWFjaCh0eG4gPT4ge1xuICAgICAgICBpZiAoZXhpc3RpbmdUcmFuc2FjdGlvbklkcy5oYXModHhuLnRyYW5zYWN0aW9uX2lkKSkge1xuICAgICAgICAgIHVwZGF0ZWQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnNlcnRlZCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coYCAgUHJvY2Vzc2VkIGJhdGNoICR7TWF0aC5mbG9vcihpIC8gQkFUQ0hfU0laRSkgKyAxfS8ke01hdGguY2VpbCh0cmFuc2FjdGlvbnNUb1Vwc2VydC5sZW5ndGggLyBCQVRDSF9TSVpFKX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY291bnQ6IGFsbFRyYW5zYWN0aW9ucy5sZW5ndGgsXG4gICAgICBpbnNlcnRlZCxcbiAgICAgIHVwZGF0ZWQsXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgVHJhbnNhY3Rpb24gc3luYyBjb21wbGV0ZTonLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1xcbuKdjCBFcnJvciBzeW5jaW5nIHRyYW5zYWN0aW9uczonLCBlcnJvci5tZXNzYWdlKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vKipcbiAqIFN5bmMgUGxhaWQgcmVjdXJyaW5nIHRyYW5zYWN0aW9ucyB0byBwbGFpZF9yZWN1cnJpbmdfdHJhbnNhY3Rpb25zIHRhYmxlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN5bmNQbGFpZFJlY3VycmluZ1RyYW5zYWN0aW9ucyhpdGVtOiBhbnkpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgY29uc29sZS5sb2coJ1xcbvCflIEgU1lOQ0lORyBSRUNVUlJJTkcgVFJBTlNBQ1RJT05TJyk7XG5cbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCByZWN1cnJpbmcgdHJhbnNhY3Rpb25zIGZyb20gUGxhaWRcbiAgICBjb25zb2xlLmxvZygn8J+ToSBDYWxsaW5nIFBsYWlkIHRyYW5zYWN0aW9uc1JlY3VycmluZ0dldCBBUEkuLi4nKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcGxhaWRDbGllbnQudHJhbnNhY3Rpb25zUmVjdXJyaW5nR2V0KHtcbiAgICAgIGFjY2Vzc190b2tlbjogaXRlbS5hY2Nlc3NfdG9rZW4sXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIFBsYWlkIEFQSSByZXNwb25zZSByZWNlaXZlZCcpO1xuXG4gICAgY29uc3QgYWxsU3RyZWFtcyA9IFtcbiAgICAgIC4uLihyZXNwb25zZS5kYXRhLm91dGZsb3dfc3RyZWFtcyB8fCBbXSlcbiAgICBdO1xuXG4gICAgY29uc29sZS5sb2coYPCfk4ogUmVjZWl2ZWQgJHthbGxTdHJlYW1zLmxlbmd0aH0gcmVjdXJyaW5nIHRyYW5zYWN0aW9uIHN0cmVhbXNgKTtcblxuICAgIC8vIENoZWNrIGV4aXN0aW5nIHN0cmVhbXNcbiAgICBjb25zdCBzdHJlYW1JZHMgPSBhbGxTdHJlYW1zLm1hcChzdHJlYW0gPT4gc3RyZWFtLnN0cmVhbV9pZCk7XG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1N0cmVhbXMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfcmVjdXJyaW5nX3RyYW5zYWN0aW9ucycpXG4gICAgICAuc2VsZWN0KCdzdHJlYW1faWQnKVxuICAgICAgLmluKCdzdHJlYW1faWQnLCBzdHJlYW1JZHMpXG4gICAgICAuZXEoJ3BsYWlkX2l0ZW1faWQnLCBpdGVtLmlkKTtcblxuICAgIGNvbnN0IGV4aXN0aW5nU3RyZWFtSWRzID0gbmV3IFNldChcbiAgICAgIGV4aXN0aW5nU3RyZWFtcz8ubWFwKHN0cmVhbSA9PiBzdHJlYW0uc3RyZWFtX2lkKSB8fCBbXVxuICAgICk7XG5cbiAgICAvLyBQcmVwYXJlIGRhdGEgZm9yIHVwc2VydFxuICAgIGNvbnN0IHN0cmVhbXNUb1Vwc2VydCA9IGFsbFN0cmVhbXMubWFwKHN0cmVhbSA9PiAoe1xuICAgICAgcGxhaWRfaXRlbV9pZDogaXRlbS5pZCxcbiAgICAgIHVzZXJfaWQ6IGl0ZW0udXNlcl9pZCxcbiAgICAgIGFjY291bnRfaWQ6IHN0cmVhbS5hY2NvdW50X2lkLFxuICAgICAgc3RyZWFtX2lkOiBzdHJlYW0uc3RyZWFtX2lkLFxuICAgICAgYXZlcmFnZV9hbW91bnQ6IHN0cmVhbS5hdmVyYWdlX2Ftb3VudCB8fCBudWxsLFxuICAgICAgY2F0ZWdvcnk6IHN0cmVhbS5jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgY2F0ZWdvcnlfaWQ6IHN0cmVhbS5jYXRlZ29yeV9pZCB8fCBudWxsLFxuICAgICAgZGVzY3JpcHRpb246IHN0cmVhbS5kZXNjcmlwdGlvbiB8fCBudWxsLFxuICAgICAgZmlyc3RfZGF0ZTogc3RyZWFtLmZpcnN0X2RhdGUsXG4gICAgICBmcmVxdWVuY3k6IHN0cmVhbS5mcmVxdWVuY3ksXG4gICAgICBpc19hY3RpdmU6IHN0cmVhbS5pc19hY3RpdmUgfHwgZmFsc2UsXG4gICAgICBpc191c2VyX21vZGlmaWVkOiBzdHJlYW0uaXNfdXNlcl9tb2RpZmllZCB8fCBmYWxzZSxcbiAgICAgIGxhc3RfYW1vdW50OiBzdHJlYW0ubGFzdF9hbW91bnQgfHwgbnVsbCxcbiAgICAgIGxhc3RfZGF0ZTogc3RyZWFtLmxhc3RfZGF0ZSxcbiAgICAgIGxhc3RfdXNlcl9tb2RpZmllZF9kYXRldGltZTogc3RyZWFtLmxhc3RfdXNlcl9tb2RpZmllZF9kYXRldGltZSB8fCBudWxsLFxuICAgICAgbWVyY2hhbnRfbmFtZTogc3RyZWFtLm1lcmNoYW50X25hbWUgfHwgbnVsbCxcbiAgICAgIHBlcnNvbmFsX2ZpbmFuY2VfY2F0ZWdvcnk6IHN0cmVhbS5wZXJzb25hbF9maW5hbmNlX2NhdGVnb3J5IHx8IG51bGwsXG4gICAgICBwcmVkaWN0ZWRfbmV4dF9kYXRlOiBzdHJlYW0ucHJlZGljdGVkX25leHRfZGF0ZSB8fCBudWxsLFxuICAgICAgc3RhdHVzOiBzdHJlYW0uc3RhdHVzLFxuICAgICAgdHJhbnNhY3Rpb25faWRzOiBzdHJlYW0udHJhbnNhY3Rpb25faWRzIHx8IFtdLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH0pKTtcblxuICAgIC8vIFBlcmZvcm0gdXBzZXJ0XG4gICAgY29uc3QgeyBlcnJvcjogdXBzZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfcmVjdXJyaW5nX3RyYW5zYWN0aW9ucycpXG4gICAgICAudXBzZXJ0KHN0cmVhbXNUb1Vwc2VydCwge1xuICAgICAgICBvbkNvbmZsaWN0OiAnc3RyZWFtX2lkJyxcbiAgICAgICAgaWdub3JlRHVwbGljYXRlczogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGlmICh1cHNlcnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFVwc2VydCBlcnJvcjonLCB1cHNlcnRFcnJvcik7XG4gICAgICB0aHJvdyB1cHNlcnRFcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY291bnQ6IGFsbFN0cmVhbXMubGVuZ3RoLFxuICAgICAgaW5zZXJ0ZWQ6IGFsbFN0cmVhbXMubGVuZ3RoIC0gZXhpc3RpbmdTdHJlYW1JZHMuc2l6ZSxcbiAgICAgIHVwZGF0ZWQ6IGV4aXN0aW5nU3RyZWFtSWRzLnNpemUsXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgUmVjdXJyaW5nIHRyYW5zYWN0aW9uIHN5bmMgY29tcGxldGU6JywgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAvLyBDaGVjayBpZiByZWN1cnJpbmcgdHJhbnNhY3Rpb25zIGFyZSBub3QgZW5hYmxlZFxuICAgIGlmIChlcnJvci5yZXNwb25zZT8uZGF0YT8uZXJyb3JfY29kZSA9PT0gJ1BST0RVQ1RfTk9UX0VOQUJMRUQnKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPICBSZWN1cnJpbmcgdHJhbnNhY3Rpb25zIG5vdCBlbmFibGVkIGZvciB0aGlzIGl0ZW0nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGNvdW50OiAwLFxuICAgICAgICBtZXNzYWdlOiAnUmVjdXJyaW5nIHRyYW5zYWN0aW9ucyBub3QgZW5hYmxlZCdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc29sZS5lcnJvcignXFxu4p2MIEVycm9yIHN5bmNpbmcgcmVjdXJyaW5nIHRyYW5zYWN0aW9uczonLCBlcnJvci5tZXNzYWdlKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUNsaWVudCIsInBsYWlkQ2xpZW50IiwiYXhpb3MiLCJzdXBhYmFzZSIsImxvZ1NlY3Rpb24iLCJ0aXRsZSIsImNvbnNvbGUiLCJsb2ciLCJyZXBlYXQiLCJQT1NUIiwicmVxdWVzdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJ1c2VySWQiLCJib2R5IiwianNvbiIsInRvSVNPU3RyaW5nIiwiZGF0YSIsInBsYWlkSXRlbXMiLCJlcnJvciIsImZldGNoRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwibWF0Y2giLCJ1c2VyX2lkIiwibGVuZ3RoIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ0b3RhbEl0ZW1zIiwiaXRlbXNTdWNjZWVkZWQiLCJpdGVtc0ZhaWxlZCIsImR1cmF0aW9uIiwiaXRlbVJlc3VsdHMiLCJpdGVtIiwiaWQiLCJpbnN0aXR1dGlvbl9uYW1lIiwiYWNjb3VudHMiLCJ0cmFuc2FjdGlvbnMiLCJyZWN1cnJpbmdUcmFuc2FjdGlvbnMiLCJQcm9taXNlIiwiYWxsIiwic3luY1BsYWlkQWNjb3VudHMiLCJzeW5jUGxhaWRUcmFuc2FjdGlvbnMiLCJzeW5jUGxhaWRSZWN1cnJpbmdUcmFuc2FjdGlvbnMiLCJyZXN1bHRzIiwidXBkYXRlIiwibGFzdF9zeW5jZWRfYXQiLCJlcSIsImNvdW50IiwicHVzaCIsInBsYWlkSXRlbUlkIiwiaW5zdGl0dXRpb25OYW1lIiwic3VjY2Vzc0NvdW50IiwiZmlsdGVyIiwiciIsImZhaWx1cmVDb3VudCIsInRvRml4ZWQiLCJoaXRJbnNpZ2h0cyIsInBvc3QiLCJoaXRFbWJlZGRpbmdzIiwiaGl0RmluYW5jaWFsU3VtbWFyeSIsIlRIUkVFQVBJUyIsIm1hcCIsImZuIiwiY2F0Y2giLCJlcnIiLCJkZXRhaWxzIiwic3RhdHVzIiwicmVzcG9uc2UiLCJhY2NvdW50c0dldCIsImFjY2Vzc190b2tlbiIsInBsYWlkQWNjb3VudElkcyIsImFjYyIsImFjY291bnRfaWQiLCJleGlzdGluZ0FjY291bnRzIiwiaW4iLCJleGlzdGluZ0FjY291bnRJZHMiLCJTZXQiLCJhY2NvdW50c1RvVXBzZXJ0IiwiYWNjb3VudCIsInBsYWlkX2l0ZW1faWQiLCJiYWxhbmNlcyIsImhvbGRlcl9jYXRlZ29yeSIsIm1hc2siLCJuYW1lIiwib2ZmaWNpYWxfbmFtZSIsInBlcnNpc3RlbnRfYWNjb3VudF9pZCIsInN1YnR5cGUiLCJ0eXBlIiwidXBkYXRlZF9hdCIsInVwc2VydEVycm9yIiwidXBzZXJ0Iiwib25Db25mbGljdCIsImlnbm9yZUR1cGxpY2F0ZXMiLCJyZXN1bHQiLCJpbnNlcnRlZCIsInNpemUiLCJ1cGRhdGVkIiwiTE9PS0JBQ0tfREFZUyIsInN0YXJ0RGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwic3BsaXQiLCJlbmREYXRlIiwiYWxsVHJhbnNhY3Rpb25zIiwiaGFzTW9yZSIsIm9mZnNldCIsInRyYW5zYWN0aW9uc0dldCIsInN0YXJ0X2RhdGUiLCJlbmRfZGF0ZSIsIm9wdGlvbnMiLCJ0b3RhbF90cmFuc2FjdGlvbnMiLCJwbGFpZFRyYW5zYWN0aW9uSWRzIiwidHhuIiwidHJhbnNhY3Rpb25faWQiLCJleGlzdGluZ1RyYW5zYWN0aW9ucyIsImV4aXN0aW5nVHJhbnNhY3Rpb25JZHMiLCJ0cmFuc2FjdGlvbnNUb1Vwc2VydCIsInRyYW5zYWN0aW9uIiwiYWNjb3VudF9vd25lciIsImFtb3VudCIsImF1dGhvcml6ZWRfZGF0ZSIsImF1dGhvcml6ZWRfZGF0ZXRpbWUiLCJjYXRlZ29yeSIsImNhdGVnb3J5X2lkIiwiY2hlY2tfbnVtYmVyIiwiY291bnRlcnBhcnRpZXMiLCJkYXRlIiwiZGF0ZXRpbWUiLCJpc29fY3VycmVuY3lfY29kZSIsImxvY2F0aW9uIiwibG9nb191cmwiLCJtZXJjaGFudF9lbnRpdHlfaWQiLCJtZXJjaGFudF9uYW1lIiwicGF5bWVudF9jaGFubmVsIiwicGF5bWVudF9tZXRhIiwicGVuZGluZyIsInBlbmRpbmdfdHJhbnNhY3Rpb25faWQiLCJwZXJzb25hbF9maW5hbmNlX2NhdGVnb3J5IiwicGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeV9pY29uX3VybCIsInRyYW5zYWN0aW9uX2NvZGUiLCJ0cmFuc2FjdGlvbl90eXBlIiwidW5vZmZpY2lhbF9jdXJyZW5jeV9jb2RlIiwid2Vic2l0ZSIsIkJBVENIX1NJWkUiLCJpIiwiYmF0Y2giLCJzbGljZSIsImZvckVhY2giLCJoYXMiLCJNYXRoIiwiZmxvb3IiLCJjZWlsIiwidHJhbnNhY3Rpb25zUmVjdXJyaW5nR2V0IiwiYWxsU3RyZWFtcyIsIm91dGZsb3dfc3RyZWFtcyIsInN0cmVhbUlkcyIsInN0cmVhbSIsInN0cmVhbV9pZCIsImV4aXN0aW5nU3RyZWFtcyIsImV4aXN0aW5nU3RyZWFtSWRzIiwic3RyZWFtc1RvVXBzZXJ0IiwiYXZlcmFnZV9hbW91bnQiLCJkZXNjcmlwdGlvbiIsImZpcnN0X2RhdGUiLCJmcmVxdWVuY3kiLCJpc19hY3RpdmUiLCJpc191c2VyX21vZGlmaWVkIiwibGFzdF9hbW91bnQiLCJsYXN0X2RhdGUiLCJsYXN0X3VzZXJfbW9kaWZpZWRfZGF0ZXRpbWUiLCJwcmVkaWN0ZWRfbmV4dF9kYXRlIiwidHJhbnNhY3Rpb25faWRzIiwiZXJyb3JfY29kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/plaid/sync-data/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/plaid.ts":
/*!**********************!*\
  !*** ./lib/plaid.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   plaidClient: () => (/* binding */ plaidClient)\n/* harmony export */ });\n/* harmony import */ var plaid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plaid */ \"(rsc)/./node_modules/.pnpm/plaid@22.0.1/node_modules/plaid/dist/index.js\");\n/* harmony import */ var plaid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(plaid__WEBPACK_IMPORTED_MODULE_0__);\n\nconst plaidEnv = process.env.PLAID_ENV ?? \"production\";\nconst configuration = new plaid__WEBPACK_IMPORTED_MODULE_0__.Configuration({\n    basePath: plaid__WEBPACK_IMPORTED_MODULE_0__.PlaidEnvironments[plaidEnv],\n    baseOptions: {\n        headers: {\n            \"PLAID-CLIENT-ID\": process.env.PLAID_CLIENT_ID ?? \"\",\n            \"PLAID-SECRET\": process.env.PLAID_SECRET ?? \"\"\n        }\n    }\n});\nconst plaidClient = new plaid__WEBPACK_IMPORTED_MODULE_0__.PlaidApi(configuration);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcGxhaWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBRWxFLE1BQU1HLFdBQVlDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUyxJQUFJO0FBRTNDLE1BQU1DLGdCQUFnQixJQUFJUCxnREFBYUEsQ0FBQztJQUN0Q1EsVUFBVU4sb0RBQWlCLENBQUNDLFNBQVM7SUFDckNNLGFBQWE7UUFDWEMsU0FBUztZQUNQLG1CQUFtQk4sUUFBUUMsR0FBRyxDQUFDTSxlQUFlLElBQUk7WUFDbEQsZ0JBQWdCUCxRQUFRQyxHQUFHLENBQUNPLFlBQVksSUFBSTtRQUM5QztJQUNGO0FBQ0Y7QUFFTyxNQUFNQyxjQUFjLElBQUlaLDJDQUFRQSxDQUFDTSxlQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2VlcG1vcmUtd2ViLy4vbGliL3BsYWlkLnRzPzBlODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgUGxhaWRBcGksIFBsYWlkRW52aXJvbm1lbnRzIH0gZnJvbSAncGxhaWQnXG5cbmNvbnN0IHBsYWlkRW52ID0gKHByb2Nlc3MuZW52LlBMQUlEX0VOViA/PyAncHJvZHVjdGlvbicpIGFzIGtleW9mIHR5cGVvZiBQbGFpZEVudmlyb25tZW50c1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oe1xuICBiYXNlUGF0aDogUGxhaWRFbnZpcm9ubWVudHNbcGxhaWRFbnZdLFxuICBiYXNlT3B0aW9uczoge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgICdQTEFJRC1DTElFTlQtSUQnOiBwcm9jZXNzLmVudi5QTEFJRF9DTElFTlRfSUQgPz8gJycsXG4gICAgICAnUExBSUQtU0VDUkVUJzogcHJvY2Vzcy5lbnYuUExBSURfU0VDUkVUID8/ICcnLFxuICAgIH0sXG4gIH0sXG59KVxuXG5leHBvcnQgY29uc3QgcGxhaWRDbGllbnQgPSBuZXcgUGxhaWRBcGkoY29uZmlndXJhdGlvbilcbiJdLCJuYW1lcyI6WyJDb25maWd1cmF0aW9uIiwiUGxhaWRBcGkiLCJQbGFpZEVudmlyb25tZW50cyIsInBsYWlkRW52IiwicHJvY2VzcyIsImVudiIsIlBMQUlEX0VOViIsImNvbmZpZ3VyYXRpb24iLCJiYXNlUGF0aCIsImJhc2VPcHRpb25zIiwiaGVhZGVycyIsIlBMQUlEX0NMSUVOVF9JRCIsIlBMQUlEX1NFQ1JFVCIsInBsYWlkQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/plaid.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/plaid@22.0.1","vendor-chunks/axios@1.13.5","vendor-chunks/@supabase+auth-js@2.91.0","vendor-chunks/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0","vendor-chunks/mime-db@1.52.0","vendor-chunks/@supabase+realtime-js@2.91.0","vendor-chunks/@supabase+storage-js@2.91.0","vendor-chunks/@supabase+postgrest-js@2.91.0","vendor-chunks/follow-redirects@1.15.11","vendor-chunks/debug@4.4.3","vendor-chunks/tslib@2.8.1","vendor-chunks/iceberg-js@0.8.1","vendor-chunks/@supabase+supabase-js@2.91.0","vendor-chunks/form-data@4.0.5","vendor-chunks/get-intrinsic@1.3.0","vendor-chunks/@supabase+functions-js@2.91.0","vendor-chunks/asynckit@0.4.0","vendor-chunks/combined-stream@1.0.8","vendor-chunks/mime-types@2.1.35","vendor-chunks/proxy-from-env@1.1.0","vendor-chunks/ms@2.1.3","vendor-chunks/supports-color@7.2.0","vendor-chunks/has-symbols@1.1.0","vendor-chunks/delayed-stream@1.0.0","vendor-chunks/function-bind@1.1.2","vendor-chunks/es-set-tostringtag@2.1.0","vendor-chunks/get-proto@1.0.1","vendor-chunks/call-bind-apply-helpers@1.0.2","vendor-chunks/dunder-proto@1.0.1","vendor-chunks/math-intrinsics@1.1.0","vendor-chunks/es-errors@1.3.0","vendor-chunks/has-flag@4.0.0","vendor-chunks/gopd@1.2.0","vendor-chunks/es-define-property@1.0.1","vendor-chunks/hasown@2.0.2","vendor-chunks/has-tostringtag@1.0.2","vendor-chunks/es-object-atoms@1.1.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();