"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/plaid/sync-data/route";
exports.ids = ["app/api/plaid/sync-data/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_harjaapdhillon_Desktop_work_keepmore_web_app_api_plaid_sync_data_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/plaid/sync-data/route.ts */ \"(rsc)/./app/api/plaid/sync-data/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/plaid/sync-data/route\",\n        pathname: \"/api/plaid/sync-data\",\n        filename: \"route\",\n        bundlePath: \"app/api/plaid/sync-data/route\"\n    },\n    resolvedPagePath: \"/Users/harjaapdhillon/Desktop/work/keepmore/web/app/api/plaid/sync-data/route.ts\",\n    nextConfigOutput,\n    userland: _Users_harjaapdhillon_Desktop_work_keepmore_web_app_api_plaid_sync_data_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/plaid/sync-data/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjNfQGJhYmVsK2NvcmVANy4yOC42X3JlYWN0LWRvbUAxOC4yLjBfcmVhY3RAMTguMi4wX19yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGcGxhaWQlMkZzeW5jLWRhdGElMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnBsYWlkJTJGc3luYy1kYXRhJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcGxhaWQlMkZzeW5jLWRhdGElMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZoYXJqYWFwZGhpbGxvbiUyRkRlc2t0b3AlMkZ3b3JrJTJGa2VlcG1vcmUlMkZ3ZWIlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGaGFyamFhcGRoaWxsb24lMkZEZXNrdG9wJTJGd29yayUyRmtlZXBtb3JlJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnQztBQUM3RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2tlZXBtb3JlLXdlYi8/MmZlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvaGFyamFhcGRoaWxsb24vRGVza3RvcC93b3JrL2tlZXBtb3JlL3dlYi9hcHAvYXBpL3BsYWlkL3N5bmMtZGF0YS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcGxhaWQvc3luYy1kYXRhL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcGxhaWQvc3luYy1kYXRhXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wbGFpZC9zeW5jLWRhdGEvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvaGFyamFhcGRoaWxsb24vRGVza3RvcC93b3JrL2tlZXBtb3JlL3dlYi9hcHAvYXBpL3BsYWlkL3N5bmMtZGF0YS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcGxhaWQvc3luYy1kYXRhL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/plaid/sync-data/route.ts":
/*!******************************************!*\
  !*** ./app/api/plaid/sync-data/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/.pnpm/@supabase+supabase-js@2.91.0/node_modules/@supabase/supabase-js/dist/index.mjs\");\n/* harmony import */ var _lib_plaid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/plaid */ \"(rsc)/./lib/plaid.ts\");\n\n\n\n// Initialize Supabase client\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_2__.createClient)(\"https://iimlwwmxbaeinfcpqsxp.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlpbWx3d214YmFlaW5mY3Bxc3hwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2ODg1MzIyMSwiZXhwIjoyMDg0NDI5MjIxfQ.XpPo_lsDlcVJ3hr1Nfhcu62VTH9W9xPSE_nO_hFTV7M\");\n// ============================================\n// LOGGING UTILITIES\n// ============================================\nfunction logSection(title) {\n    console.log(\"\\n\" + \"=\".repeat(80));\n    console.log(`  ${title}`);\n    console.log(\"=\".repeat(80));\n}\n// ============================================\n// MAIN API HANDLER\n// ============================================\nasync function POST(request) {\n    const startTime = Date.now();\n    const { userId } = request.body ? await request.json() : {};\n    logSection(\"\\uD83D\\uDE80 PLAID SYNC STARTED\");\n    console.log(`Start Time: ${new Date().toISOString()}`);\n    try {\n        // Fetch all Plaid items\n        const { data: plaidItems, error: fetchError } = await supabase.from(\"plaid_items\").select(\"*\").match({\n            user_id: userId\n        });\n        if (fetchError) {\n            console.error(\"‚ùå Error fetching plaid_items:\", fetchError);\n            throw fetchError;\n        }\n        console.log(`\\nüìä Found ${plaidItems?.length || 0} Plaid items to sync`);\n        if (!plaidItems || plaidItems.length === 0) {\n            console.log(\"‚ö†Ô∏è  No Plaid items found to sync\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"No Plaid items to sync\",\n                totalItems: 0,\n                itemsSucceeded: 0,\n                itemsFailed: 0,\n                duration: Date.now() - startTime\n            });\n        }\n        // Sync all items\n        const itemResults = [];\n        for (const item of plaidItems){\n            logSection(`üîÑ Syncing Item: ${item.id}`);\n            console.log(`User ID: ${item.user_id}`);\n            console.log(`Institution: ${item.institution_name || \"Unknown\"}`);\n            console.log(`Item ID: ${item.id}`);\n            try {\n                const [accounts, transactions, recurringTransactions] = await Promise.all([\n                    syncPlaidAccounts(item),\n                    syncPlaidTransactions(item),\n                    syncPlaidRecurringTransactions(item)\n                ]);\n                const results = {\n                    accounts,\n                    transactions,\n                    recurringTransactions\n                };\n                // Update last_synced_at\n                await supabase.from(\"plaid_items\").update({\n                    last_synced_at: new Date().toISOString()\n                }).eq(\"id\", item.id);\n                console.log(`\\n‚úÖ Successfully synced item ${item.id}`);\n                console.log(`   Accounts: ${results.accounts.count || 0}`);\n                console.log(`   Transactions: ${results.transactions.count || 0}`);\n                console.log(`   Recurring Transactions: ${results.recurringTransactions.count || 0}`);\n                itemResults.push({\n                    plaidItemId: item.id,\n                    userId: item.user_id,\n                    institutionName: item.institution_name,\n                    success: true,\n                    results\n                });\n            } catch (error) {\n                console.error(`\\n‚ùå Failed to sync item ${item.id}:`, error.message);\n                itemResults.push({\n                    plaidItemId: item.id,\n                    userId: item.user_id,\n                    institutionName: item.institution_name,\n                    success: false,\n                    error: error.message\n                });\n            }\n        }\n        const successCount = itemResults.filter((r)=>r.success).length;\n        const failureCount = itemResults.filter((r)=>!r.success).length;\n        const duration = Date.now() - startTime;\n        logSection(\"‚ú® SYNC COMPLETE\");\n        console.log(`Duration: ${duration}ms (${(duration / 1000).toFixed(2)}s)`);\n        console.log(`‚úÖ Succeeded: ${successCount}`);\n        console.log(`‚ùå Failed: ${failureCount}`);\n        console.log(`End Time: ${new Date().toISOString()}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Plaid sync completed\",\n            totalItems: plaidItems.length,\n            itemsSucceeded: successCount,\n            itemsFailed: failureCount,\n            duration,\n            itemResults\n        });\n    } catch (error) {\n        console.error(\"\\n‚ùå FATAL ERROR:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to sync data\",\n            details: error.message,\n            duration: Date.now() - startTime\n        }, {\n            status: 500\n        });\n    }\n}\n// ============================================\n// SYNC FUNCTIONS\n// ============================================\n/**\n * Sync Plaid accounts to plaid_accounts table\n */ async function syncPlaidAccounts(item) {\n    console.log(\"\\n\\uD83D\\uDCB0 SYNCING ACCOUNTS\");\n    try {\n        // Fetch accounts from Plaid\n        console.log(\"\\uD83D\\uDCE1 Calling Plaid accountsGet API...\");\n        const response = await _lib_plaid__WEBPACK_IMPORTED_MODULE_1__.plaidClient.accountsGet({\n            access_token: item.access_token\n        });\n        console.log(\"‚úÖ Plaid API response received\");\n        const accounts = response.data.accounts;\n        console.log(`üìä Received ${accounts.length} accounts`);\n        // Check existing accounts\n        const plaidAccountIds = accounts.map((acc)=>acc.account_id);\n        const { data: existingAccounts } = await supabase.from(\"plaid_accounts\").select(\"account_id\").in(\"account_id\", plaidAccountIds).eq(\"plaid_item_id\", item.id);\n        const existingAccountIds = new Set(existingAccounts?.map((acc)=>acc.account_id) || []);\n        // Prepare data for upsert\n        const accountsToUpsert = accounts.map((account)=>({\n                plaid_item_id: item.id,\n                user_id: item.user_id,\n                account_id: account.account_id,\n                balances: account.balances,\n                holder_category: account.holder_category || null,\n                mask: account.mask || null,\n                name: account.name,\n                official_name: account.official_name || null,\n                persistent_account_id: account.persistent_account_id || null,\n                subtype: account.subtype,\n                type: account.type,\n                updated_at: new Date().toISOString()\n            }));\n        // Perform upsert\n        const { error: upsertError } = await supabase.from(\"plaid_accounts\").upsert(accountsToUpsert, {\n            onConflict: \"account_id\",\n            ignoreDuplicates: false\n        });\n        if (upsertError) {\n            console.error(\"‚ùå Upsert error:\", upsertError);\n            throw upsertError;\n        }\n        const result = {\n            success: true,\n            count: accounts.length,\n            inserted: accounts.length - existingAccountIds.size,\n            updated: existingAccountIds.size\n        };\n        console.log(\"‚úÖ Account sync complete:\", result);\n        return result;\n    } catch (error) {\n        console.error(\"\\n‚ùå Error syncing accounts:\", error.message);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n/**\n * Sync Plaid transactions to plaid_transactions table\n */ async function syncPlaidTransactions(item) {\n    console.log(\"\\n\\uD83D\\uDCB3 SYNCING TRANSACTIONS\");\n    try {\n        // Calculate date range (last 12 months)\n        const LOOKBACK_DAYS = 365;\n        const now = new Date();\n        const startDate = new Date(now.setDate(now.getDate() - LOOKBACK_DAYS)).toISOString().split(\"T\")[0];\n        const endDate = new Date().toISOString().split(\"T\")[0];\n        console.log(`üìÖ Date Range: ${startDate} to ${endDate}`);\n        // Fetch transactions from Plaid\n        let allTransactions = [];\n        let hasMore = true;\n        let offset = 0;\n        while(hasMore){\n            console.log(`üì° Fetching transactions (offset: ${offset})...`);\n            const response = await _lib_plaid__WEBPACK_IMPORTED_MODULE_1__.plaidClient.transactionsGet({\n                access_token: item.access_token,\n                start_date: startDate,\n                end_date: endDate,\n                options: {\n                    count: 100,\n                    offset: offset\n                }\n            });\n            const transactions = response.data.transactions;\n            allTransactions = [\n                ...allTransactions,\n                ...transactions\n            ];\n            hasMore = response.data.total_transactions > allTransactions.length;\n            offset += transactions.length;\n        }\n        console.log(`üìä Received ${allTransactions.length} transactions`);\n        // Check existing transactions\n        const plaidTransactionIds = allTransactions.map((txn)=>txn.transaction_id);\n        const { data: existingTransactions } = await supabase.from(\"plaid_transactions\").select(\"transaction_id\").in(\"transaction_id\", plaidTransactionIds).eq(\"plaid_item_id\", item.id);\n        const existingTransactionIds = new Set(existingTransactions?.map((txn)=>txn.transaction_id) || []);\n        // Prepare data for upsert\n        const transactionsToUpsert = allTransactions.map((transaction)=>({\n                plaid_item_id: item.id,\n                user_id: item.user_id,\n                account_id: transaction.account_id,\n                transaction_id: transaction.transaction_id,\n                account_owner: transaction.account_owner || null,\n                amount: transaction.amount,\n                authorized_date: transaction.authorized_date || null,\n                authorized_datetime: transaction.authorized_datetime || null,\n                category: transaction.category || null,\n                category_id: transaction.category_id || null,\n                check_number: transaction.check_number || null,\n                counterparties: transaction.counterparties || null,\n                date: transaction.date,\n                datetime: transaction.datetime || null,\n                iso_currency_code: transaction.iso_currency_code || null,\n                location: transaction.location || null,\n                logo_url: transaction.logo_url || null,\n                merchant_entity_id: transaction.merchant_entity_id || null,\n                merchant_name: transaction.merchant_name || null,\n                name: transaction.name,\n                payment_channel: transaction.payment_channel || null,\n                payment_meta: transaction.payment_meta || null,\n                pending: transaction.pending || false,\n                pending_transaction_id: transaction.pending_transaction_id || null,\n                personal_finance_category: transaction.personal_finance_category || null,\n                personal_finance_category_icon_url: transaction.personal_finance_category_icon_url || null,\n                transaction_code: transaction.transaction_code || null,\n                transaction_type: transaction.transaction_type || null,\n                unofficial_currency_code: transaction.unofficial_currency_code || null,\n                website: transaction.website || null,\n                updated_at: new Date().toISOString()\n            }));\n        // Perform upsert in batches (Supabase has limits)\n        const BATCH_SIZE = 100;\n        let inserted = 0;\n        let updated = 0;\n        for(let i = 0; i < transactionsToUpsert.length; i += BATCH_SIZE){\n            const batch = transactionsToUpsert.slice(i, i + BATCH_SIZE);\n            const { error: upsertError } = await supabase.from(\"plaid_transactions\").upsert(batch, {\n                onConflict: \"transaction_id\",\n                ignoreDuplicates: false\n            });\n            if (upsertError) {\n                console.error(\"‚ùå Upsert error in batch:\", upsertError);\n                throw upsertError;\n            }\n            // Count inserts vs updates\n            batch.forEach((txn)=>{\n                if (existingTransactionIds.has(txn.transaction_id)) {\n                    updated++;\n                } else {\n                    inserted++;\n                }\n            });\n            console.log(`  Processed batch ${Math.floor(i / BATCH_SIZE) + 1}/${Math.ceil(transactionsToUpsert.length / BATCH_SIZE)}`);\n        }\n        const result = {\n            success: true,\n            count: allTransactions.length,\n            inserted,\n            updated\n        };\n        console.log(\"‚úÖ Transaction sync complete:\", result);\n        return result;\n    } catch (error) {\n        console.error(\"\\n‚ùå Error syncing transactions:\", error.message);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n/**\n * Sync Plaid recurring transactions to plaid_recurring_transactions table\n */ async function syncPlaidRecurringTransactions(item) {\n    console.log(\"\\n\\uD83D\\uDD01 SYNCING RECURRING TRANSACTIONS\");\n    try {\n        // Fetch recurring transactions from Plaid\n        console.log(\"\\uD83D\\uDCE1 Calling Plaid transactionsRecurringGet API...\");\n        const response = await _lib_plaid__WEBPACK_IMPORTED_MODULE_1__.plaidClient.transactionsRecurringGet({\n            access_token: item.access_token\n        });\n        console.log(\"‚úÖ Plaid API response received\");\n        const allStreams = [\n            ...response.data.outflow_streams || []\n        ];\n        console.log(`üìä Received ${allStreams.length} recurring transaction streams`);\n        // Check existing streams\n        const streamIds = allStreams.map((stream)=>stream.stream_id);\n        const { data: existingStreams } = await supabase.from(\"plaid_recurring_transactions\").select(\"stream_id\").in(\"stream_id\", streamIds).eq(\"plaid_item_id\", item.id);\n        const existingStreamIds = new Set(existingStreams?.map((stream)=>stream.stream_id) || []);\n        // Prepare data for upsert\n        const streamsToUpsert = allStreams.map((stream)=>({\n                plaid_item_id: item.id,\n                user_id: item.user_id,\n                account_id: stream.account_id,\n                stream_id: stream.stream_id,\n                average_amount: stream.average_amount || null,\n                category: stream.category || null,\n                category_id: stream.category_id || null,\n                description: stream.description || null,\n                first_date: stream.first_date,\n                frequency: stream.frequency,\n                is_active: stream.is_active || false,\n                is_user_modified: stream.is_user_modified || false,\n                last_amount: stream.last_amount || null,\n                last_date: stream.last_date,\n                last_user_modified_datetime: stream.last_user_modified_datetime || null,\n                merchant_name: stream.merchant_name || null,\n                personal_finance_category: stream.personal_finance_category || null,\n                predicted_next_date: stream.predicted_next_date || null,\n                status: stream.status,\n                transaction_ids: stream.transaction_ids || [],\n                updated_at: new Date().toISOString()\n            }));\n        // Perform upsert\n        const { error: upsertError } = await supabase.from(\"plaid_recurring_transactions\").upsert(streamsToUpsert, {\n            onConflict: \"stream_id\",\n            ignoreDuplicates: false\n        });\n        if (upsertError) {\n            console.error(\"‚ùå Upsert error:\", upsertError);\n            throw upsertError;\n        }\n        const result = {\n            success: true,\n            count: allStreams.length,\n            inserted: allStreams.length - existingStreamIds.size,\n            updated: existingStreamIds.size\n        };\n        console.log(\"‚úÖ Recurring transaction sync complete:\", result);\n        return result;\n    } catch (error) {\n        // Check if recurring transactions are not enabled\n        if (error.response?.data?.error_code === \"PRODUCT_NOT_ENABLED\") {\n            console.log(\"‚ö†Ô∏è  Recurring transactions not enabled for this item\");\n            return {\n                success: true,\n                count: 0,\n                message: \"Recurring transactions not enabled\"\n            };\n        }\n        console.error(\"\\n‚ùå Error syncing recurring transactions:\", error.message);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9QLE9BQU9BLE1BQU1RLE9BQU87UUFBQztJQUNoRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2VlcG1vcmUtd2ViLy4vYXBwL2FwaS9wbGFpZC9zeW5jLWRhdGEvcm91dGUudHM/N2YzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgUGxhaWRBcGksIFBsYWlkRW52aXJvbm1lbnRzIH0gZnJvbSAncGxhaWQnO1xuaW1wb3J0IHsgcGxhaWRDbGllbnQgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvcGxhaWQnO1xuXG4vLyBJbml0aWFsaXplIFN1cGFiYXNlIGNsaWVudFxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXG4gICdodHRwczovL2lpbWx3d214YmFlaW5mY3Bxc3hwLnN1cGFiYXNlLmNvJyxcbiAgJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNkltbHBiV3gzZDIxNFltRmxhVzVtWTNCeGMzaHdJaXdpY205c1pTSTZJbk5sY25acFkyVmZjbTlzWlNJc0ltbGhkQ0k2TVRjMk9EZzFNekl5TVN3aVpYaHdJam95TURnME5ESTVNakl4ZlEuWHBQb19sc0RsY1ZKM2hyMU5maGN1NjJWVEg5Vzl4UFNFX25PX2hGVFY3TSdcbilcblxuaW50ZXJmYWNlIFN5bmNSZXN1bHQge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBjb3VudD86IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGluc2VydGVkPzogbnVtYmVyO1xuICB1cGRhdGVkPzogbnVtYmVyO1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmludGVyZmFjZSBJdGVtU3luY1Jlc3VsdCB7XG4gIHBsYWlkSXRlbUlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBpbnN0aXR1dGlvbk5hbWU6IHN0cmluZyB8IG51bGw7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIHJlc3VsdHM/OiB7XG4gICAgYWNjb3VudHM6IFN5bmNSZXN1bHQ7XG4gICAgdHJhbnNhY3Rpb25zOiBTeW5jUmVzdWx0O1xuICAgIHJlY3VycmluZ1RyYW5zYWN0aW9uczogU3luY1Jlc3VsdDtcbiAgfTtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBMT0dHSU5HIFVUSUxJVElFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gbG9nU2VjdGlvbih0aXRsZTogc3RyaW5nKSB7XG4gIGNvbnNvbGUubG9nKCdcXG4nICsgJz0nLnJlcGVhdCg4MCkpO1xuICBjb25zb2xlLmxvZyhgICAke3RpdGxlfWApO1xuICBjb25zb2xlLmxvZygnPScucmVwZWF0KDgwKSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBNQUlOIEFQSSBIQU5ETEVSXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSByZXF1ZXN0LmJvZHkgPyBhd2FpdCByZXF1ZXN0Lmpzb24oKSA6IHt9O1xuXG4gIGxvZ1NlY3Rpb24oJ/CfmoAgUExBSUQgU1lOQyBTVEFSVEVEJyk7XG4gIGNvbnNvbGUubG9nKGBTdGFydCBUaW1lOiAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1gKTtcblxuICB0cnkge1xuICAgIC8vIEZldGNoIGFsbCBQbGFpZCBpdGVtc1xuICAgIGNvbnN0IHsgZGF0YTogcGxhaWRJdGVtcywgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfaXRlbXMnKVxuICAgICAgLnNlbGVjdCgnKicpLm1hdGNoKHsgdXNlcl9pZDogdXNlcklkIH0pO1xuXG4gICAgaWYgKGZldGNoRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyBwbGFpZF9pdGVtczonLCBmZXRjaEVycm9yKTtcbiAgICAgIHRocm93IGZldGNoRXJyb3I7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYFxcbvCfk4ogRm91bmQgJHtwbGFpZEl0ZW1zPy5sZW5ndGggfHwgMH0gUGxhaWQgaXRlbXMgdG8gc3luY2ApO1xuXG4gICAgaWYgKCFwbGFpZEl0ZW1zIHx8IHBsYWlkSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPICBObyBQbGFpZCBpdGVtcyBmb3VuZCB0byBzeW5jJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiAnTm8gUGxhaWQgaXRlbXMgdG8gc3luYycsXG4gICAgICAgIHRvdGFsSXRlbXM6IDAsXG4gICAgICAgIGl0ZW1zU3VjY2VlZGVkOiAwLFxuICAgICAgICBpdGVtc0ZhaWxlZDogMCxcbiAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTeW5jIGFsbCBpdGVtc1xuICAgIGNvbnN0IGl0ZW1SZXN1bHRzOiBJdGVtU3luY1Jlc3VsdFtdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcGxhaWRJdGVtcykge1xuICAgICAgbG9nU2VjdGlvbihg8J+UhCBTeW5jaW5nIEl0ZW06ICR7aXRlbS5pZH1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGBVc2VyIElEOiAke2l0ZW0udXNlcl9pZH1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGBJbnN0aXR1dGlvbjogJHtpdGVtLmluc3RpdHV0aW9uX25hbWUgfHwgJ1Vua25vd24nfWApO1xuICAgICAgY29uc29sZS5sb2coYEl0ZW0gSUQ6ICR7aXRlbS5pZH1gKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2FjY291bnRzLCB0cmFuc2FjdGlvbnMsIHJlY3VycmluZ1RyYW5zYWN0aW9uc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgc3luY1BsYWlkQWNjb3VudHMoaXRlbSksXG4gICAgICAgICAgc3luY1BsYWlkVHJhbnNhY3Rpb25zKGl0ZW0pLFxuICAgICAgICAgIHN5bmNQbGFpZFJlY3VycmluZ1RyYW5zYWN0aW9ucyhpdGVtKSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICAgICAgICBhY2NvdW50cyxcbiAgICAgICAgICB0cmFuc2FjdGlvbnMsXG4gICAgICAgICAgcmVjdXJyaW5nVHJhbnNhY3Rpb25zLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFVwZGF0ZSBsYXN0X3N5bmNlZF9hdFxuICAgICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdwbGFpZF9pdGVtcycpXG4gICAgICAgICAgLnVwZGF0ZSh7IGxhc3Rfc3luY2VkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSlcbiAgICAgICAgICAuZXEoJ2lkJywgaXRlbS5pZCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFxcbuKchSBTdWNjZXNzZnVsbHkgc3luY2VkIGl0ZW0gJHtpdGVtLmlkfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgICAgQWNjb3VudHM6ICR7cmVzdWx0cy5hY2NvdW50cy5jb3VudCB8fCAwfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgICAgVHJhbnNhY3Rpb25zOiAke3Jlc3VsdHMudHJhbnNhY3Rpb25zLmNvdW50IHx8IDB9YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGAgICBSZWN1cnJpbmcgVHJhbnNhY3Rpb25zOiAke3Jlc3VsdHMucmVjdXJyaW5nVHJhbnNhY3Rpb25zLmNvdW50IHx8IDB9YCk7XG5cbiAgICAgICAgaXRlbVJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgcGxhaWRJdGVtSWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgdXNlcklkOiBpdGVtLnVzZXJfaWQsXG4gICAgICAgICAgaW5zdGl0dXRpb25OYW1lOiBpdGVtLmluc3RpdHV0aW9uX25hbWUsXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICByZXN1bHRzLFxuICAgICAgICB9KTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBcXG7inYwgRmFpbGVkIHRvIHN5bmMgaXRlbSAke2l0ZW0uaWR9OmAsIGVycm9yLm1lc3NhZ2UpO1xuXG4gICAgICAgIGl0ZW1SZXN1bHRzLnB1c2goe1xuICAgICAgICAgIHBsYWlkSXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICAgIHVzZXJJZDogaXRlbS51c2VyX2lkLFxuICAgICAgICAgIGluc3RpdHV0aW9uTmFtZTogaXRlbS5pbnN0aXR1dGlvbl9uYW1lLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzdWNjZXNzQ291bnQgPSBpdGVtUmVzdWx0cy5maWx0ZXIociA9PiByLnN1Y2Nlc3MpLmxlbmd0aDtcbiAgICBjb25zdCBmYWlsdXJlQ291bnQgPSBpdGVtUmVzdWx0cy5maWx0ZXIociA9PiAhci5zdWNjZXNzKS5sZW5ndGg7XG4gICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgbG9nU2VjdGlvbign4pyoIFNZTkMgQ09NUExFVEUnKTtcbiAgICBjb25zb2xlLmxvZyhgRHVyYXRpb246ICR7ZHVyYXRpb259bXMgKCR7KGR1cmF0aW9uIC8gMTAwMCkudG9GaXhlZCgyKX1zKWApO1xuICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2VlZGVkOiAke3N1Y2Nlc3NDb3VudH1gKTtcbiAgICBjb25zb2xlLmxvZyhg4p2MIEZhaWxlZDogJHtmYWlsdXJlQ291bnR9YCk7XG4gICAgY29uc29sZS5sb2coYEVuZCBUaW1lOiAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1gKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ1BsYWlkIHN5bmMgY29tcGxldGVkJyxcbiAgICAgIHRvdGFsSXRlbXM6IHBsYWlkSXRlbXMubGVuZ3RoLFxuICAgICAgaXRlbXNTdWNjZWVkZWQ6IHN1Y2Nlc3NDb3VudCxcbiAgICAgIGl0ZW1zRmFpbGVkOiBmYWlsdXJlQ291bnQsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGl0ZW1SZXN1bHRzLFxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdcXG7inYwgRkFUQUwgRVJST1I6JywgZXJyb3IpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc3luYyBkYXRhJyxcbiAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgZHVyYXRpb246IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU1lOQyBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU3luYyBQbGFpZCBhY2NvdW50cyB0byBwbGFpZF9hY2NvdW50cyB0YWJsZVxuICovXG5hc3luYyBmdW5jdGlvbiBzeW5jUGxhaWRBY2NvdW50cyhpdGVtOiBhbnkpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgY29uc29sZS5sb2coJ1xcbvCfkrAgU1lOQ0lORyBBQ0NPVU5UUycpO1xuXG4gIHRyeSB7XG4gICAgLy8gRmV0Y2ggYWNjb3VudHMgZnJvbSBQbGFpZFxuICAgIGNvbnNvbGUubG9nKCfwn5OhIENhbGxpbmcgUGxhaWQgYWNjb3VudHNHZXQgQVBJLi4uJyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwbGFpZENsaWVudC5hY2NvdW50c0dldCh7XG4gICAgICBhY2Nlc3NfdG9rZW46IGl0ZW0uYWNjZXNzX3Rva2VuLFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ+KchSBQbGFpZCBBUEkgcmVzcG9uc2UgcmVjZWl2ZWQnKTtcbiAgICBjb25zdCBhY2NvdW50cyA9IHJlc3BvbnNlLmRhdGEuYWNjb3VudHM7XG4gICAgY29uc29sZS5sb2coYPCfk4ogUmVjZWl2ZWQgJHthY2NvdW50cy5sZW5ndGh9IGFjY291bnRzYCk7XG5cbiAgICAvLyBDaGVjayBleGlzdGluZyBhY2NvdW50c1xuICAgIGNvbnN0IHBsYWlkQWNjb3VudElkcyA9IGFjY291bnRzLm1hcChhY2MgPT4gYWNjLmFjY291bnRfaWQpO1xuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdBY2NvdW50cyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwbGFpZF9hY2NvdW50cycpXG4gICAgICAuc2VsZWN0KCdhY2NvdW50X2lkJylcbiAgICAgIC5pbignYWNjb3VudF9pZCcsIHBsYWlkQWNjb3VudElkcylcbiAgICAgIC5lcSgncGxhaWRfaXRlbV9pZCcsIGl0ZW0uaWQpO1xuXG4gICAgY29uc3QgZXhpc3RpbmdBY2NvdW50SWRzID0gbmV3IFNldChcbiAgICAgIGV4aXN0aW5nQWNjb3VudHM/Lm1hcChhY2MgPT4gYWNjLmFjY291bnRfaWQpIHx8IFtdXG4gICAgKTtcblxuICAgIC8vIFByZXBhcmUgZGF0YSBmb3IgdXBzZXJ0XG4gICAgY29uc3QgYWNjb3VudHNUb1Vwc2VydCA9IGFjY291bnRzLm1hcChhY2NvdW50ID0+ICh7XG4gICAgICBwbGFpZF9pdGVtX2lkOiBpdGVtLmlkLFxuICAgICAgdXNlcl9pZDogaXRlbS51c2VyX2lkLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudC5hY2NvdW50X2lkLFxuICAgICAgYmFsYW5jZXM6IGFjY291bnQuYmFsYW5jZXMsXG4gICAgICBob2xkZXJfY2F0ZWdvcnk6IGFjY291bnQuaG9sZGVyX2NhdGVnb3J5IHx8IG51bGwsXG4gICAgICBtYXNrOiBhY2NvdW50Lm1hc2sgfHwgbnVsbCxcbiAgICAgIG5hbWU6IGFjY291bnQubmFtZSxcbiAgICAgIG9mZmljaWFsX25hbWU6IGFjY291bnQub2ZmaWNpYWxfbmFtZSB8fCBudWxsLFxuICAgICAgcGVyc2lzdGVudF9hY2NvdW50X2lkOiBhY2NvdW50LnBlcnNpc3RlbnRfYWNjb3VudF9pZCB8fCBudWxsLFxuICAgICAgc3VidHlwZTogYWNjb3VudC5zdWJ0eXBlLFxuICAgICAgdHlwZTogYWNjb3VudC50eXBlLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH0pKTtcblxuICAgIC8vIFBlcmZvcm0gdXBzZXJ0XG4gICAgY29uc3QgeyBlcnJvcjogdXBzZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfYWNjb3VudHMnKVxuICAgICAgLnVwc2VydChhY2NvdW50c1RvVXBzZXJ0LCB7XG4gICAgICAgIG9uQ29uZmxpY3Q6ICdhY2NvdW50X2lkJyxcbiAgICAgICAgaWdub3JlRHVwbGljYXRlczogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGlmICh1cHNlcnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFVwc2VydCBlcnJvcjonLCB1cHNlcnRFcnJvcik7XG4gICAgICB0aHJvdyB1cHNlcnRFcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY291bnQ6IGFjY291bnRzLmxlbmd0aCxcbiAgICAgIGluc2VydGVkOiBhY2NvdW50cy5sZW5ndGggLSBleGlzdGluZ0FjY291bnRJZHMuc2l6ZSxcbiAgICAgIHVwZGF0ZWQ6IGV4aXN0aW5nQWNjb3VudElkcy5zaXplLFxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIEFjY291bnQgc3luYyBjb21wbGV0ZTonLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1xcbuKdjCBFcnJvciBzeW5jaW5nIGFjY291bnRzOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICB9XG59XG5cbi8qKlxuICogU3luYyBQbGFpZCB0cmFuc2FjdGlvbnMgdG8gcGxhaWRfdHJhbnNhY3Rpb25zIHRhYmxlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN5bmNQbGFpZFRyYW5zYWN0aW9ucyhpdGVtOiBhbnkpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgY29uc29sZS5sb2coJ1xcbvCfkrMgU1lOQ0lORyBUUkFOU0FDVElPTlMnKTtcblxuICB0cnkge1xuICAgIC8vIENhbGN1bGF0ZSBkYXRlIHJhbmdlIChsYXN0IDEyIG1vbnRocylcbiAgICBjb25zdCBMT09LQkFDS19EQVlTID0gMzY1O1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSAtIExPT0tCQUNLX0RBWVMpKVxuICAgICAgLnRvSVNPU3RyaW5nKClcbiAgICAgIC5zcGxpdCgnVCcpWzBdO1xuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcblxuICAgIGNvbnNvbGUubG9nKGDwn5OFIERhdGUgUmFuZ2U6ICR7c3RhcnREYXRlfSB0byAke2VuZERhdGV9YCk7XG5cbiAgICAvLyBGZXRjaCB0cmFuc2FjdGlvbnMgZnJvbSBQbGFpZFxuICAgIGxldCBhbGxUcmFuc2FjdGlvbnM6IGFueVtdID0gW107XG4gICAgbGV0IGhhc01vcmUgPSB0cnVlO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgd2hpbGUgKGhhc01vcmUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OhIEZldGNoaW5nIHRyYW5zYWN0aW9ucyAob2Zmc2V0OiAke29mZnNldH0pLi4uYCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcGxhaWRDbGllbnQudHJhbnNhY3Rpb25zR2V0KHtcbiAgICAgICAgYWNjZXNzX3Rva2VuOiBpdGVtLmFjY2Vzc190b2tlbixcbiAgICAgICAgc3RhcnRfZGF0ZTogc3RhcnREYXRlLFxuICAgICAgICBlbmRfZGF0ZTogZW5kRGF0ZSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGNvdW50OiAxMDAsXG4gICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gcmVzcG9uc2UuZGF0YS50cmFuc2FjdGlvbnM7XG4gICAgICBhbGxUcmFuc2FjdGlvbnMgPSBbLi4uYWxsVHJhbnNhY3Rpb25zLCAuLi50cmFuc2FjdGlvbnNdO1xuXG4gICAgICBoYXNNb3JlID0gcmVzcG9uc2UuZGF0YS50b3RhbF90cmFuc2FjdGlvbnMgPiBhbGxUcmFuc2FjdGlvbnMubGVuZ3RoO1xuICAgICAgb2Zmc2V0ICs9IHRyYW5zYWN0aW9ucy5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCfk4ogUmVjZWl2ZWQgJHthbGxUcmFuc2FjdGlvbnMubGVuZ3RofSB0cmFuc2FjdGlvbnNgKTtcblxuICAgIC8vIENoZWNrIGV4aXN0aW5nIHRyYW5zYWN0aW9uc1xuICAgIGNvbnN0IHBsYWlkVHJhbnNhY3Rpb25JZHMgPSBhbGxUcmFuc2FjdGlvbnMubWFwKHR4biA9PiB0eG4udHJhbnNhY3Rpb25faWQpO1xuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdUcmFuc2FjdGlvbnMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfdHJhbnNhY3Rpb25zJylcbiAgICAgIC5zZWxlY3QoJ3RyYW5zYWN0aW9uX2lkJylcbiAgICAgIC5pbigndHJhbnNhY3Rpb25faWQnLCBwbGFpZFRyYW5zYWN0aW9uSWRzKVxuICAgICAgLmVxKCdwbGFpZF9pdGVtX2lkJywgaXRlbS5pZCk7XG5cbiAgICBjb25zdCBleGlzdGluZ1RyYW5zYWN0aW9uSWRzID0gbmV3IFNldChcbiAgICAgIGV4aXN0aW5nVHJhbnNhY3Rpb25zPy5tYXAodHhuID0+IHR4bi50cmFuc2FjdGlvbl9pZCkgfHwgW11cbiAgICApO1xuXG4gICAgLy8gUHJlcGFyZSBkYXRhIGZvciB1cHNlcnRcbiAgICBjb25zdCB0cmFuc2FjdGlvbnNUb1Vwc2VydCA9IGFsbFRyYW5zYWN0aW9ucy5tYXAodHJhbnNhY3Rpb24gPT4gKHtcbiAgICAgIHBsYWlkX2l0ZW1faWQ6IGl0ZW0uaWQsXG4gICAgICB1c2VyX2lkOiBpdGVtLnVzZXJfaWQsXG4gICAgICBhY2NvdW50X2lkOiB0cmFuc2FjdGlvbi5hY2NvdW50X2lkLFxuICAgICAgdHJhbnNhY3Rpb25faWQ6IHRyYW5zYWN0aW9uLnRyYW5zYWN0aW9uX2lkLFxuICAgICAgYWNjb3VudF9vd25lcjogdHJhbnNhY3Rpb24uYWNjb3VudF9vd25lciB8fCBudWxsLFxuICAgICAgYW1vdW50OiB0cmFuc2FjdGlvbi5hbW91bnQsXG4gICAgICBhdXRob3JpemVkX2RhdGU6IHRyYW5zYWN0aW9uLmF1dGhvcml6ZWRfZGF0ZSB8fCBudWxsLFxuICAgICAgYXV0aG9yaXplZF9kYXRldGltZTogdHJhbnNhY3Rpb24uYXV0aG9yaXplZF9kYXRldGltZSB8fCBudWxsLFxuICAgICAgY2F0ZWdvcnk6IHRyYW5zYWN0aW9uLmNhdGVnb3J5IHx8IG51bGwsXG4gICAgICBjYXRlZ29yeV9pZDogdHJhbnNhY3Rpb24uY2F0ZWdvcnlfaWQgfHwgbnVsbCxcbiAgICAgIGNoZWNrX251bWJlcjogdHJhbnNhY3Rpb24uY2hlY2tfbnVtYmVyIHx8IG51bGwsXG4gICAgICBjb3VudGVycGFydGllczogdHJhbnNhY3Rpb24uY291bnRlcnBhcnRpZXMgfHwgbnVsbCxcbiAgICAgIGRhdGU6IHRyYW5zYWN0aW9uLmRhdGUsXG4gICAgICBkYXRldGltZTogdHJhbnNhY3Rpb24uZGF0ZXRpbWUgfHwgbnVsbCxcbiAgICAgIGlzb19jdXJyZW5jeV9jb2RlOiB0cmFuc2FjdGlvbi5pc29fY3VycmVuY3lfY29kZSB8fCBudWxsLFxuICAgICAgbG9jYXRpb246IHRyYW5zYWN0aW9uLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICBsb2dvX3VybDogdHJhbnNhY3Rpb24ubG9nb191cmwgfHwgbnVsbCxcbiAgICAgIG1lcmNoYW50X2VudGl0eV9pZDogdHJhbnNhY3Rpb24ubWVyY2hhbnRfZW50aXR5X2lkIHx8IG51bGwsXG4gICAgICBtZXJjaGFudF9uYW1lOiB0cmFuc2FjdGlvbi5tZXJjaGFudF9uYW1lIHx8IG51bGwsXG4gICAgICBuYW1lOiB0cmFuc2FjdGlvbi5uYW1lLFxuICAgICAgcGF5bWVudF9jaGFubmVsOiB0cmFuc2FjdGlvbi5wYXltZW50X2NoYW5uZWwgfHwgbnVsbCxcbiAgICAgIHBheW1lbnRfbWV0YTogdHJhbnNhY3Rpb24ucGF5bWVudF9tZXRhIHx8IG51bGwsXG4gICAgICBwZW5kaW5nOiB0cmFuc2FjdGlvbi5wZW5kaW5nIHx8IGZhbHNlLFxuICAgICAgcGVuZGluZ190cmFuc2FjdGlvbl9pZDogdHJhbnNhY3Rpb24ucGVuZGluZ190cmFuc2FjdGlvbl9pZCB8fCBudWxsLFxuICAgICAgcGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeTogdHJhbnNhY3Rpb24ucGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgcGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeV9pY29uX3VybDogdHJhbnNhY3Rpb24ucGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeV9pY29uX3VybCB8fCBudWxsLFxuICAgICAgdHJhbnNhY3Rpb25fY29kZTogdHJhbnNhY3Rpb24udHJhbnNhY3Rpb25fY29kZSB8fCBudWxsLFxuICAgICAgdHJhbnNhY3Rpb25fdHlwZTogdHJhbnNhY3Rpb24udHJhbnNhY3Rpb25fdHlwZSB8fCBudWxsLFxuICAgICAgdW5vZmZpY2lhbF9jdXJyZW5jeV9jb2RlOiB0cmFuc2FjdGlvbi51bm9mZmljaWFsX2N1cnJlbmN5X2NvZGUgfHwgbnVsbCxcbiAgICAgIHdlYnNpdGU6IHRyYW5zYWN0aW9uLndlYnNpdGUgfHwgbnVsbCxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9KSk7XG5cbiAgICAvLyBQZXJmb3JtIHVwc2VydCBpbiBiYXRjaGVzIChTdXBhYmFzZSBoYXMgbGltaXRzKVxuICAgIGNvbnN0IEJBVENIX1NJWkUgPSAxMDA7XG4gICAgbGV0IGluc2VydGVkID0gMDtcbiAgICBsZXQgdXBkYXRlZCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zYWN0aW9uc1RvVXBzZXJ0Lmxlbmd0aDsgaSArPSBCQVRDSF9TSVpFKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IHRyYW5zYWN0aW9uc1RvVXBzZXJ0LnNsaWNlKGksIGkgKyBCQVRDSF9TSVpFKTtcblxuICAgICAgY29uc3QgeyBlcnJvcjogdXBzZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwbGFpZF90cmFuc2FjdGlvbnMnKVxuICAgICAgICAudXBzZXJ0KGJhdGNoLCB7XG4gICAgICAgICAgb25Db25mbGljdDogJ3RyYW5zYWN0aW9uX2lkJyxcbiAgICAgICAgICBpZ25vcmVEdXBsaWNhdGVzOiBmYWxzZSxcbiAgICAgICAgfSk7XG5cbiAgICAgIGlmICh1cHNlcnRFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgVXBzZXJ0IGVycm9yIGluIGJhdGNoOicsIHVwc2VydEVycm9yKTtcbiAgICAgICAgdGhyb3cgdXBzZXJ0RXJyb3I7XG4gICAgICB9XG5cbiAgICAgIC8vIENvdW50IGluc2VydHMgdnMgdXBkYXRlc1xuICAgICAgYmF0Y2guZm9yRWFjaCh0eG4gPT4ge1xuICAgICAgICBpZiAoZXhpc3RpbmdUcmFuc2FjdGlvbklkcy5oYXModHhuLnRyYW5zYWN0aW9uX2lkKSkge1xuICAgICAgICAgIHVwZGF0ZWQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnNlcnRlZCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coYCAgUHJvY2Vzc2VkIGJhdGNoICR7TWF0aC5mbG9vcihpIC8gQkFUQ0hfU0laRSkgKyAxfS8ke01hdGguY2VpbCh0cmFuc2FjdGlvbnNUb1Vwc2VydC5sZW5ndGggLyBCQVRDSF9TSVpFKX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY291bnQ6IGFsbFRyYW5zYWN0aW9ucy5sZW5ndGgsXG4gICAgICBpbnNlcnRlZCxcbiAgICAgIHVwZGF0ZWQsXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgVHJhbnNhY3Rpb24gc3luYyBjb21wbGV0ZTonLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1xcbuKdjCBFcnJvciBzeW5jaW5nIHRyYW5zYWN0aW9uczonLCBlcnJvci5tZXNzYWdlKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vKipcbiAqIFN5bmMgUGxhaWQgcmVjdXJyaW5nIHRyYW5zYWN0aW9ucyB0byBwbGFpZF9yZWN1cnJpbmdfdHJhbnNhY3Rpb25zIHRhYmxlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN5bmNQbGFpZFJlY3VycmluZ1RyYW5zYWN0aW9ucyhpdGVtOiBhbnkpOiBQcm9taXNlPFN5bmNSZXN1bHQ+IHtcbiAgY29uc29sZS5sb2coJ1xcbvCflIEgU1lOQ0lORyBSRUNVUlJJTkcgVFJBTlNBQ1RJT05TJyk7XG5cbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCByZWN1cnJpbmcgdHJhbnNhY3Rpb25zIGZyb20gUGxhaWRcbiAgICBjb25zb2xlLmxvZygn8J+ToSBDYWxsaW5nIFBsYWlkIHRyYW5zYWN0aW9uc1JlY3VycmluZ0dldCBBUEkuLi4nKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcGxhaWRDbGllbnQudHJhbnNhY3Rpb25zUmVjdXJyaW5nR2V0KHtcbiAgICAgIGFjY2Vzc190b2tlbjogaXRlbS5hY2Nlc3NfdG9rZW4sXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIFBsYWlkIEFQSSByZXNwb25zZSByZWNlaXZlZCcpO1xuXG4gICAgY29uc3QgYWxsU3RyZWFtcyA9IFtcbiAgICAgIC4uLihyZXNwb25zZS5kYXRhLm91dGZsb3dfc3RyZWFtcyB8fCBbXSlcbiAgICBdO1xuXG4gICAgY29uc29sZS5sb2coYPCfk4ogUmVjZWl2ZWQgJHthbGxTdHJlYW1zLmxlbmd0aH0gcmVjdXJyaW5nIHRyYW5zYWN0aW9uIHN0cmVhbXNgKTtcblxuICAgIC8vIENoZWNrIGV4aXN0aW5nIHN0cmVhbXNcbiAgICBjb25zdCBzdHJlYW1JZHMgPSBhbGxTdHJlYW1zLm1hcChzdHJlYW0gPT4gc3RyZWFtLnN0cmVhbV9pZCk7XG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1N0cmVhbXMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfcmVjdXJyaW5nX3RyYW5zYWN0aW9ucycpXG4gICAgICAuc2VsZWN0KCdzdHJlYW1faWQnKVxuICAgICAgLmluKCdzdHJlYW1faWQnLCBzdHJlYW1JZHMpXG4gICAgICAuZXEoJ3BsYWlkX2l0ZW1faWQnLCBpdGVtLmlkKTtcblxuICAgIGNvbnN0IGV4aXN0aW5nU3RyZWFtSWRzID0gbmV3IFNldChcbiAgICAgIGV4aXN0aW5nU3RyZWFtcz8ubWFwKHN0cmVhbSA9PiBzdHJlYW0uc3RyZWFtX2lkKSB8fCBbXVxuICAgICk7XG5cbiAgICAvLyBQcmVwYXJlIGRhdGEgZm9yIHVwc2VydFxuICAgIGNvbnN0IHN0cmVhbXNUb1Vwc2VydCA9IGFsbFN0cmVhbXMubWFwKHN0cmVhbSA9PiAoe1xuICAgICAgcGxhaWRfaXRlbV9pZDogaXRlbS5pZCxcbiAgICAgIHVzZXJfaWQ6IGl0ZW0udXNlcl9pZCxcbiAgICAgIGFjY291bnRfaWQ6IHN0cmVhbS5hY2NvdW50X2lkLFxuICAgICAgc3RyZWFtX2lkOiBzdHJlYW0uc3RyZWFtX2lkLFxuICAgICAgYXZlcmFnZV9hbW91bnQ6IHN0cmVhbS5hdmVyYWdlX2Ftb3VudCB8fCBudWxsLFxuICAgICAgY2F0ZWdvcnk6IHN0cmVhbS5jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgY2F0ZWdvcnlfaWQ6IHN0cmVhbS5jYXRlZ29yeV9pZCB8fCBudWxsLFxuICAgICAgZGVzY3JpcHRpb246IHN0cmVhbS5kZXNjcmlwdGlvbiB8fCBudWxsLFxuICAgICAgZmlyc3RfZGF0ZTogc3RyZWFtLmZpcnN0X2RhdGUsXG4gICAgICBmcmVxdWVuY3k6IHN0cmVhbS5mcmVxdWVuY3ksXG4gICAgICBpc19hY3RpdmU6IHN0cmVhbS5pc19hY3RpdmUgfHwgZmFsc2UsXG4gICAgICBpc191c2VyX21vZGlmaWVkOiBzdHJlYW0uaXNfdXNlcl9tb2RpZmllZCB8fCBmYWxzZSxcbiAgICAgIGxhc3RfYW1vdW50OiBzdHJlYW0ubGFzdF9hbW91bnQgfHwgbnVsbCxcbiAgICAgIGxhc3RfZGF0ZTogc3RyZWFtLmxhc3RfZGF0ZSxcbiAgICAgIGxhc3RfdXNlcl9tb2RpZmllZF9kYXRldGltZTogc3RyZWFtLmxhc3RfdXNlcl9tb2RpZmllZF9kYXRldGltZSB8fCBudWxsLFxuICAgICAgbWVyY2hhbnRfbmFtZTogc3RyZWFtLm1lcmNoYW50X25hbWUgfHwgbnVsbCxcbiAgICAgIHBlcnNvbmFsX2ZpbmFuY2VfY2F0ZWdvcnk6IHN0cmVhbS5wZXJzb25hbF9maW5hbmNlX2NhdGVnb3J5IHx8IG51bGwsXG4gICAgICBwcmVkaWN0ZWRfbmV4dF9kYXRlOiBzdHJlYW0ucHJlZGljdGVkX25leHRfZGF0ZSB8fCBudWxsLFxuICAgICAgc3RhdHVzOiBzdHJlYW0uc3RhdHVzLFxuICAgICAgdHJhbnNhY3Rpb25faWRzOiBzdHJlYW0udHJhbnNhY3Rpb25faWRzIHx8IFtdLFxuICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH0pKTtcblxuICAgIC8vIFBlcmZvcm0gdXBzZXJ0XG4gICAgY29uc3QgeyBlcnJvcjogdXBzZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncGxhaWRfcmVjdXJyaW5nX3RyYW5zYWN0aW9ucycpXG4gICAgICAudXBzZXJ0KHN0cmVhbXNUb1Vwc2VydCwge1xuICAgICAgICBvbkNvbmZsaWN0OiAnc3RyZWFtX2lkJyxcbiAgICAgICAgaWdub3JlRHVwbGljYXRlczogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGlmICh1cHNlcnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFVwc2VydCBlcnJvcjonLCB1cHNlcnRFcnJvcik7XG4gICAgICB0aHJvdyB1cHNlcnRFcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgY291bnQ6IGFsbFN0cmVhbXMubGVuZ3RoLFxuICAgICAgaW5zZXJ0ZWQ6IGFsbFN0cmVhbXMubGVuZ3RoIC0gZXhpc3RpbmdTdHJlYW1JZHMuc2l6ZSxcbiAgICAgIHVwZGF0ZWQ6IGV4aXN0aW5nU3RyZWFtSWRzLnNpemUsXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgUmVjdXJyaW5nIHRyYW5zYWN0aW9uIHN5bmMgY29tcGxldGU6JywgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAvLyBDaGVjayBpZiByZWN1cnJpbmcgdHJhbnNhY3Rpb25zIGFyZSBub3QgZW5hYmxlZFxuICAgIGlmIChlcnJvci5yZXNwb25zZT8uZGF0YT8uZXJyb3JfY29kZSA9PT0gJ1BST0RVQ1RfTk9UX0VOQUJMRUQnKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPICBSZWN1cnJpbmcgdHJhbnNhY3Rpb25zIG5vdCBlbmFibGVkIGZvciB0aGlzIGl0ZW0nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGNvdW50OiAwLFxuICAgICAgICBtZXNzYWdlOiAnUmVjdXJyaW5nIHRyYW5zYWN0aW9ucyBub3QgZW5hYmxlZCdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc29sZS5lcnJvcignXFxu4p2MIEVycm9yIHN5bmNpbmcgcmVjdXJyaW5nIHRyYW5zYWN0aW9uczonLCBlcnJvci5tZXNzYWdlKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUNsaWVudCIsInBsYWlkQ2xpZW50Iiwic3VwYWJhc2UiLCJsb2dTZWN0aW9uIiwidGl0bGUiLCJjb25zb2xlIiwibG9nIiwicmVwZWF0IiwiUE9TVCIsInJlcXVlc3QiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwidXNlcklkIiwiYm9keSIsImpzb24iLCJ0b0lTT1N0cmluZyIsImRhdGEiLCJwbGFpZEl0ZW1zIiwiZXJyb3IiLCJmZXRjaEVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm1hdGNoIiwidXNlcl9pZCIsImxlbmd0aCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwidG90YWxJdGVtcyIsIml0ZW1zU3VjY2VlZGVkIiwiaXRlbXNGYWlsZWQiLCJkdXJhdGlvbiIsIml0ZW1SZXN1bHRzIiwiaXRlbSIsImlkIiwiaW5zdGl0dXRpb25fbmFtZSIsImFjY291bnRzIiwidHJhbnNhY3Rpb25zIiwicmVjdXJyaW5nVHJhbnNhY3Rpb25zIiwiUHJvbWlzZSIsImFsbCIsInN5bmNQbGFpZEFjY291bnRzIiwic3luY1BsYWlkVHJhbnNhY3Rpb25zIiwic3luY1BsYWlkUmVjdXJyaW5nVHJhbnNhY3Rpb25zIiwicmVzdWx0cyIsInVwZGF0ZSIsImxhc3Rfc3luY2VkX2F0IiwiZXEiLCJjb3VudCIsInB1c2giLCJwbGFpZEl0ZW1JZCIsImluc3RpdHV0aW9uTmFtZSIsInN1Y2Nlc3NDb3VudCIsImZpbHRlciIsInIiLCJmYWlsdXJlQ291bnQiLCJ0b0ZpeGVkIiwiZGV0YWlscyIsInN0YXR1cyIsInJlc3BvbnNlIiwiYWNjb3VudHNHZXQiLCJhY2Nlc3NfdG9rZW4iLCJwbGFpZEFjY291bnRJZHMiLCJtYXAiLCJhY2MiLCJhY2NvdW50X2lkIiwiZXhpc3RpbmdBY2NvdW50cyIsImluIiwiZXhpc3RpbmdBY2NvdW50SWRzIiwiU2V0IiwiYWNjb3VudHNUb1Vwc2VydCIsImFjY291bnQiLCJwbGFpZF9pdGVtX2lkIiwiYmFsYW5jZXMiLCJob2xkZXJfY2F0ZWdvcnkiLCJtYXNrIiwibmFtZSIsIm9mZmljaWFsX25hbWUiLCJwZXJzaXN0ZW50X2FjY291bnRfaWQiLCJzdWJ0eXBlIiwidHlwZSIsInVwZGF0ZWRfYXQiLCJ1cHNlcnRFcnJvciIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJpZ25vcmVEdXBsaWNhdGVzIiwicmVzdWx0IiwiaW5zZXJ0ZWQiLCJzaXplIiwidXBkYXRlZCIsIkxPT0tCQUNLX0RBWVMiLCJzdGFydERhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInNwbGl0IiwiZW5kRGF0ZSIsImFsbFRyYW5zYWN0aW9ucyIsImhhc01vcmUiLCJvZmZzZXQiLCJ0cmFuc2FjdGlvbnNHZXQiLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJvcHRpb25zIiwidG90YWxfdHJhbnNhY3Rpb25zIiwicGxhaWRUcmFuc2FjdGlvbklkcyIsInR4biIsInRyYW5zYWN0aW9uX2lkIiwiZXhpc3RpbmdUcmFuc2FjdGlvbnMiLCJleGlzdGluZ1RyYW5zYWN0aW9uSWRzIiwidHJhbnNhY3Rpb25zVG9VcHNlcnQiLCJ0cmFuc2FjdGlvbiIsImFjY291bnRfb3duZXIiLCJhbW91bnQiLCJhdXRob3JpemVkX2RhdGUiLCJhdXRob3JpemVkX2RhdGV0aW1lIiwiY2F0ZWdvcnkiLCJjYXRlZ29yeV9pZCIsImNoZWNrX251bWJlciIsImNvdW50ZXJwYXJ0aWVzIiwiZGF0ZSIsImRhdGV0aW1lIiwiaXNvX2N1cnJlbmN5X2NvZGUiLCJsb2NhdGlvbiIsImxvZ29fdXJsIiwibWVyY2hhbnRfZW50aXR5X2lkIiwibWVyY2hhbnRfbmFtZSIsInBheW1lbnRfY2hhbm5lbCIsInBheW1lbnRfbWV0YSIsInBlbmRpbmciLCJwZW5kaW5nX3RyYW5zYWN0aW9uX2lkIiwicGVyc29uYWxfZmluYW5jZV9jYXRlZ29yeSIsInBlcnNvbmFsX2ZpbmFuY2VfY2F0ZWdvcnlfaWNvbl91cmwiLCJ0cmFuc2FjdGlvbl9jb2RlIiwidHJhbnNhY3Rpb25fdHlwZSIsInVub2ZmaWNpYWxfY3VycmVuY3lfY29kZSIsIndlYnNpdGUiLCJCQVRDSF9TSVpFIiwiaSIsImJhdGNoIiwic2xpY2UiLCJmb3JFYWNoIiwiaGFzIiwiTWF0aCIsImZsb29yIiwiY2VpbCIsInRyYW5zYWN0aW9uc1JlY3VycmluZ0dldCIsImFsbFN0cmVhbXMiLCJvdXRmbG93X3N0cmVhbXMiLCJzdHJlYW1JZHMiLCJzdHJlYW0iLCJzdHJlYW1faWQiLCJleGlzdGluZ1N0cmVhbXMiLCJleGlzdGluZ1N0cmVhbUlkcyIsInN0cmVhbXNUb1Vwc2VydCIsImF2ZXJhZ2VfYW1vdW50IiwiZGVzY3JpcHRpb24iLCJmaXJzdF9kYXRlIiwiZnJlcXVlbmN5IiwiaXNfYWN0aXZlIiwiaXNfdXNlcl9tb2RpZmllZCIsImxhc3RfYW1vdW50IiwibGFzdF9kYXRlIiwibGFzdF91c2VyX21vZGlmaWVkX2RhdGV0aW1lIiwicHJlZGljdGVkX25leHRfZGF0ZSIsInRyYW5zYWN0aW9uX2lkcyIsImVycm9yX2NvZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/plaid/sync-data/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/plaid.ts":
/*!**********************!*\
  !*** ./lib/plaid.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   plaidClient: () => (/* binding */ plaidClient)\n/* harmony export */ });\n/* harmony import */ var plaid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plaid */ \"(rsc)/./node_modules/.pnpm/plaid@22.0.1/node_modules/plaid/dist/index.js\");\n/* harmony import */ var plaid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(plaid__WEBPACK_IMPORTED_MODULE_0__);\n\nconst plaidEnv = process.env.PLAID_ENV ?? \"production\";\nconst configuration = new plaid__WEBPACK_IMPORTED_MODULE_0__.Configuration({\n    basePath: plaid__WEBPACK_IMPORTED_MODULE_0__.PlaidEnvironments[plaidEnv],\n    baseOptions: {\n        headers: {\n            \"PLAID-CLIENT-ID\": process.env.PLAID_CLIENT_ID ?? \"\",\n            \"PLAID-SECRET\": process.env.PLAID_SECRET ?? \"\"\n        }\n    }\n});\nconst plaidClient = new plaid__WEBPACK_IMPORTED_MODULE_0__.PlaidApi(configuration);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcGxhaWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBRWxFLE1BQU1HLFdBQVlDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUyxJQUFJO0FBRTNDLE1BQU1DLGdCQUFnQixJQUFJUCxnREFBYUEsQ0FBQztJQUN0Q1EsVUFBVU4sb0RBQWlCLENBQUNDLFNBQVM7SUFDckNNLGFBQWE7UUFDWEMsU0FBUztZQUNQLG1CQUFtQk4sUUFBUUMsR0FBRyxDQUFDTSxlQUFlLElBQUk7WUFDbEQsZ0JBQWdCUCxRQUFRQyxHQUFHLENBQUNPLFlBQVksSUFBSTtRQUM5QztJQUNGO0FBQ0Y7QUFFTyxNQUFNQyxjQUFjLElBQUlaLDJDQUFRQSxDQUFDTSxlQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2VlcG1vcmUtd2ViLy4vbGliL3BsYWlkLnRzPzBlODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgUGxhaWRBcGksIFBsYWlkRW52aXJvbm1lbnRzIH0gZnJvbSAncGxhaWQnXG5cbmNvbnN0IHBsYWlkRW52ID0gKHByb2Nlc3MuZW52LlBMQUlEX0VOViA/PyAncHJvZHVjdGlvbicpIGFzIGtleW9mIHR5cGVvZiBQbGFpZEVudmlyb25tZW50c1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oe1xuICBiYXNlUGF0aDogUGxhaWRFbnZpcm9ubWVudHNbcGxhaWRFbnZdLFxuICBiYXNlT3B0aW9uczoge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgICdQTEFJRC1DTElFTlQtSUQnOiBwcm9jZXNzLmVudi5QTEFJRF9DTElFTlRfSUQgPz8gJycsXG4gICAgICAnUExBSUQtU0VDUkVUJzogcHJvY2Vzcy5lbnYuUExBSURfU0VDUkVUID8/ICcnLFxuICAgIH0sXG4gIH0sXG59KVxuXG5leHBvcnQgY29uc3QgcGxhaWRDbGllbnQgPSBuZXcgUGxhaWRBcGkoY29uZmlndXJhdGlvbilcbiJdLCJuYW1lcyI6WyJDb25maWd1cmF0aW9uIiwiUGxhaWRBcGkiLCJQbGFpZEVudmlyb25tZW50cyIsInBsYWlkRW52IiwicHJvY2VzcyIsImVudiIsIlBMQUlEX0VOViIsImNvbmZpZ3VyYXRpb24iLCJiYXNlUGF0aCIsImJhc2VPcHRpb25zIiwiaGVhZGVycyIsIlBMQUlEX0NMSUVOVF9JRCIsIlBMQUlEX1NFQ1JFVCIsInBsYWlkQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/plaid.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0","vendor-chunks/@supabase+auth-js@2.91.0","vendor-chunks/@supabase+realtime-js@2.91.0","vendor-chunks/asynckit@0.4.0","vendor-chunks/math-intrinsics@1.1.0","vendor-chunks/es-errors@1.3.0","vendor-chunks/plaid@22.0.1","vendor-chunks/call-bind-apply-helpers@1.0.2","vendor-chunks/debug@4.4.3","vendor-chunks/get-proto@1.0.1","vendor-chunks/@supabase+functions-js@2.91.0","vendor-chunks/mime-db@1.52.0","vendor-chunks/has-symbols@1.1.0","vendor-chunks/gopd@1.2.0","vendor-chunks/function-bind@1.1.2","vendor-chunks/form-data@4.0.5","vendor-chunks/follow-redirects@1.15.11","vendor-chunks/tslib@2.8.1","vendor-chunks/iceberg-js@0.8.1","vendor-chunks/@supabase+supabase-js@2.91.0","vendor-chunks/@supabase+storage-js@2.91.0","vendor-chunks/@supabase+postgrest-js@2.91.0","vendor-chunks/axios@1.13.2","vendor-chunks/supports-color@7.2.0","vendor-chunks/proxy-from-env@1.1.0","vendor-chunks/ms@2.1.3","vendor-chunks/mime-types@2.1.35","vendor-chunks/hasown@2.0.2","vendor-chunks/has-tostringtag@1.0.2","vendor-chunks/has-flag@4.0.0","vendor-chunks/get-intrinsic@1.3.0","vendor-chunks/es-set-tostringtag@2.1.0","vendor-chunks/es-object-atoms@1.1.1","vendor-chunks/es-define-property@1.0.1","vendor-chunks/dunder-proto@1.0.1","vendor-chunks/delayed-stream@1.0.0","vendor-chunks/combined-stream@1.0.8"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.3_@babel+core@7.28.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fplaid%2Fsync-data%2Froute&page=%2Fapi%2Fplaid%2Fsync-data%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fplaid%2Fsync-data%2Froute.ts&appDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fharjaapdhillon%2FDesktop%2Fwork%2Fkeepmore%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();